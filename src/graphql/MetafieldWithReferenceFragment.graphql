fragment MediaFragment on MediaImage {
    image {
        originalSrc
    }
}

fragment MetaobjectFragment on Metaobject {
    fields {
        key
        type
        value
        reference {
            ...MediaFragment
        }
    }
}

fragment MetafieldWithReferenceFragment on Metafield {
    key
    namespace
    type
    value
    reference {
        ...MediaFragment
        ...MetaobjectFragment
    }
}
