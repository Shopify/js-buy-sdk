{"version":3,"sources":["fetch.js","rsvp.js","base64.js","adapters/listings-adapter.js","adapters/local-storage-adapter.js","ajax.js","config.js","ie9-ajax.js","isomorphic-btoa.js","isomorphic-fetch.js","logger.js","metal/assign.js","metal/core-object.js","metal/create-class.js","metal/global.js","metal/includes.js","metal/is-node-like-environment.js","metal/set-guid-for.js","metal/uniq.js","models/base-model.js","models/cart-line-item-model.js","models/cart-model.js","models/product-model.js","models/product-option-model.js","models/product-variant-model.js","models/reference-model.js","serializers/cart-serializer.js","serializers/listings-serializer.js","serializers/reference-serializer.js","shop-client.js","shopify.js","store.js","version.js"],"sourcesContent":["(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})();\n","/*!\n * @overview RSVP - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE\n * @version   3.1.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$rsvp$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$rsvp$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$rsvp$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$rsvp$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$rsvp$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$rsvp$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$rsvp$utils$$isArray = lib$rsvp$utils$$_isArray;\n\n    var lib$rsvp$utils$$now = Date.now || function() { return new Date().getTime(); };\n\n    function lib$rsvp$utils$$F() { }\n\n    var lib$rsvp$utils$$o_create = (Object.create || function (o) {\n      if (arguments.length > 1) {\n        throw new Error('Second argument not supported');\n      }\n      if (typeof o !== 'object') {\n        throw new TypeError('Argument must be an object');\n      }\n      lib$rsvp$utils$$F.prototype = o;\n      return new lib$rsvp$utils$$F();\n    });\n    function lib$rsvp$events$$indexOf(callbacks, callback) {\n      for (var i=0, l=callbacks.length; i<l; i++) {\n        if (callbacks[i] === callback) { return i; }\n      }\n\n      return -1;\n    }\n\n    function lib$rsvp$events$$callbacksFor(object) {\n      var callbacks = object._promiseCallbacks;\n\n      if (!callbacks) {\n        callbacks = object._promiseCallbacks = {};\n      }\n\n      return callbacks;\n    }\n\n    var lib$rsvp$events$$default = {\n\n      /**\n        `RSVP.EventTarget.mixin` extends an object with EventTarget methods. For\n        Example:\n\n        ```javascript\n        var object = {};\n\n        RSVP.EventTarget.mixin(object);\n\n        object.on('finished', function(event) {\n          // handle event\n        });\n\n        object.trigger('finished', { detail: value });\n        ```\n\n        `EventTarget.mixin` also works with prototypes:\n\n        ```javascript\n        var Person = function() {};\n        RSVP.EventTarget.mixin(Person.prototype);\n\n        var yehuda = new Person();\n        var tom = new Person();\n\n        yehuda.on('poke', function(event) {\n          console.log('Yehuda says OW');\n        });\n\n        tom.on('poke', function(event) {\n          console.log('Tom says OW');\n        });\n\n        yehuda.trigger('poke');\n        tom.trigger('poke');\n        ```\n\n        @method mixin\n        @for RSVP.EventTarget\n        @private\n        @param {Object} object object to extend with EventTarget methods\n      */\n      'mixin': function(object) {\n        object['on']      = this['on'];\n        object['off']     = this['off'];\n        object['trigger'] = this['trigger'];\n        object._promiseCallbacks = undefined;\n        return object;\n      },\n\n      /**\n        Registers a callback to be executed when `eventName` is triggered\n\n        ```javascript\n        object.on('event', function(eventInfo){\n          // handle the event\n        });\n\n        object.trigger('event');\n        ```\n\n        @method on\n        @for RSVP.EventTarget\n        @private\n        @param {String} eventName name of the event to listen for\n        @param {Function} callback function to be called when the event is triggered.\n      */\n      'on': function(eventName, callback) {\n        if (typeof callback !== 'function') {\n          throw new TypeError('Callback must be a function');\n        }\n\n        var allCallbacks = lib$rsvp$events$$callbacksFor(this), callbacks;\n\n        callbacks = allCallbacks[eventName];\n\n        if (!callbacks) {\n          callbacks = allCallbacks[eventName] = [];\n        }\n\n        if (lib$rsvp$events$$indexOf(callbacks, callback) === -1) {\n          callbacks.push(callback);\n        }\n      },\n\n      /**\n        You can use `off` to stop firing a particular callback for an event:\n\n        ```javascript\n        function doStuff() { // do stuff! }\n        object.on('stuff', doStuff);\n\n        object.trigger('stuff'); // doStuff will be called\n\n        // Unregister ONLY the doStuff callback\n        object.off('stuff', doStuff);\n        object.trigger('stuff'); // doStuff will NOT be called\n        ```\n\n        If you don't pass a `callback` argument to `off`, ALL callbacks for the\n        event will not be executed when the event fires. For example:\n\n        ```javascript\n        var callback1 = function(){};\n        var callback2 = function(){};\n\n        object.on('stuff', callback1);\n        object.on('stuff', callback2);\n\n        object.trigger('stuff'); // callback1 and callback2 will be executed.\n\n        object.off('stuff');\n        object.trigger('stuff'); // callback1 and callback2 will not be executed!\n        ```\n\n        @method off\n        @for RSVP.EventTarget\n        @private\n        @param {String} eventName event to stop listening to\n        @param {Function} callback optional argument. If given, only the function\n        given will be removed from the event's callback queue. If no `callback`\n        argument is given, all callbacks will be removed from the event's callback\n        queue.\n      */\n      'off': function(eventName, callback) {\n        var allCallbacks = lib$rsvp$events$$callbacksFor(this), callbacks, index;\n\n        if (!callback) {\n          allCallbacks[eventName] = [];\n          return;\n        }\n\n        callbacks = allCallbacks[eventName];\n\n        index = lib$rsvp$events$$indexOf(callbacks, callback);\n\n        if (index !== -1) { callbacks.splice(index, 1); }\n      },\n\n      /**\n        Use `trigger` to fire custom events. For example:\n\n        ```javascript\n        object.on('foo', function(){\n          console.log('foo event happened!');\n        });\n        object.trigger('foo');\n        // 'foo event happened!' logged to the console\n        ```\n\n        You can also pass a value as a second argument to `trigger` that will be\n        passed as an argument to all event listeners for the event:\n\n        ```javascript\n        object.on('foo', function(value){\n          console.log(value.name);\n        });\n\n        object.trigger('foo', { name: 'bar' });\n        // 'bar' logged to the console\n        ```\n\n        @method trigger\n        @for RSVP.EventTarget\n        @private\n        @param {String} eventName name of the event to be triggered\n        @param {*} options optional value to be passed to any event handlers for\n        the given `eventName`\n      */\n      'trigger': function(eventName, options, label) {\n        var allCallbacks = lib$rsvp$events$$callbacksFor(this), callbacks, callback;\n\n        if (callbacks = allCallbacks[eventName]) {\n          // Don't cache the callbacks.length since it may grow\n          for (var i=0; i<callbacks.length; i++) {\n            callback = callbacks[i];\n\n            callback(options, label);\n          }\n        }\n      }\n    };\n\n    var lib$rsvp$config$$config = {\n      instrument: false\n    };\n\n    lib$rsvp$events$$default['mixin'](lib$rsvp$config$$config);\n\n    function lib$rsvp$config$$configure(name, value) {\n      if (name === 'onerror') {\n        // handle for legacy users that expect the actual\n        // error to be passed to their function added via\n        // `RSVP.configure('onerror', someFunctionHere);`\n        lib$rsvp$config$$config['on']('error', value);\n        return;\n      }\n\n      if (arguments.length === 2) {\n        lib$rsvp$config$$config[name] = value;\n      } else {\n        return lib$rsvp$config$$config[name];\n      }\n    }\n\n    var lib$rsvp$instrument$$queue = [];\n\n    function lib$rsvp$instrument$$scheduleFlush() {\n      setTimeout(function() {\n        var entry;\n        for (var i = 0; i < lib$rsvp$instrument$$queue.length; i++) {\n          entry = lib$rsvp$instrument$$queue[i];\n\n          var payload = entry.payload;\n\n          payload.guid = payload.key + payload.id;\n          payload.childGuid = payload.key + payload.childId;\n          if (payload.error) {\n            payload.stack = payload.error.stack;\n          }\n\n          lib$rsvp$config$$config['trigger'](entry.name, entry.payload);\n        }\n        lib$rsvp$instrument$$queue.length = 0;\n      }, 50);\n    }\n\n    function lib$rsvp$instrument$$instrument(eventName, promise, child) {\n      if (1 === lib$rsvp$instrument$$queue.push({\n        name: eventName,\n        payload: {\n          key: promise._guidKey,\n          id:  promise._id,\n          eventName: eventName,\n          detail: promise._result,\n          childId: child && child._id,\n          label: promise._label,\n          timeStamp: lib$rsvp$utils$$now(),\n          error: lib$rsvp$config$$config[\"instrument-with-stack\"] ? new Error(promise._label) : null\n        }})) {\n          lib$rsvp$instrument$$scheduleFlush();\n        }\n      }\n    var lib$rsvp$instrument$$default = lib$rsvp$instrument$$instrument;\n\n    function  lib$rsvp$$internal$$withOwnPromise() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$rsvp$$internal$$noop() {}\n\n    var lib$rsvp$$internal$$PENDING   = void 0;\n    var lib$rsvp$$internal$$FULFILLED = 1;\n    var lib$rsvp$$internal$$REJECTED  = 2;\n\n    var lib$rsvp$$internal$$GET_THEN_ERROR = new lib$rsvp$$internal$$ErrorObject();\n\n    function lib$rsvp$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$rsvp$$internal$$GET_THEN_ERROR.error = error;\n        return lib$rsvp$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$rsvp$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$rsvp$$internal$$handleForeignThenable(promise, thenable, then) {\n      lib$rsvp$config$$config.async(function(promise) {\n        var sealed = false;\n        var error = lib$rsvp$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$rsvp$$internal$$resolve(promise, value);\n          } else {\n            lib$rsvp$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$rsvp$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$rsvp$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$rsvp$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$rsvp$$internal$$FULFILLED) {\n        lib$rsvp$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$rsvp$$internal$$REJECTED) {\n        thenable._onError = null;\n        lib$rsvp$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$rsvp$$internal$$subscribe(thenable, undefined, function(value) {\n          if (thenable !== value) {\n            lib$rsvp$$internal$$resolve(promise, value);\n          } else {\n            lib$rsvp$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          lib$rsvp$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$rsvp$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$rsvp$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$rsvp$$internal$$getThen(maybeThenable);\n\n        if (then === lib$rsvp$$internal$$GET_THEN_ERROR) {\n          lib$rsvp$$internal$$reject(promise, lib$rsvp$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$rsvp$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$rsvp$utils$$isFunction(then)) {\n          lib$rsvp$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$rsvp$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$rsvp$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$rsvp$$internal$$fulfill(promise, value);\n      } else if (lib$rsvp$utils$$objectOrFunction(value)) {\n        lib$rsvp$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$rsvp$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$rsvp$$internal$$publishRejection(promise) {\n      if (promise._onError) {\n        promise._onError(promise._result);\n      }\n\n      lib$rsvp$$internal$$publish(promise);\n    }\n\n    function lib$rsvp$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$rsvp$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$rsvp$$internal$$FULFILLED;\n\n      if (promise._subscribers.length === 0) {\n        if (lib$rsvp$config$$config.instrument) {\n          lib$rsvp$instrument$$default('fulfilled', promise);\n        }\n      } else {\n        lib$rsvp$config$$config.async(lib$rsvp$$internal$$publish, promise);\n      }\n    }\n\n    function lib$rsvp$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$rsvp$$internal$$PENDING) { return; }\n      promise._state = lib$rsvp$$internal$$REJECTED;\n      promise._result = reason;\n      lib$rsvp$config$$config.async(lib$rsvp$$internal$$publishRejection, promise);\n    }\n\n    function lib$rsvp$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onError = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$rsvp$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$rsvp$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$rsvp$config$$config.async(lib$rsvp$$internal$$publish, parent);\n      }\n    }\n\n    function lib$rsvp$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (lib$rsvp$config$$config.instrument) {\n        lib$rsvp$instrument$$default(settled === lib$rsvp$$internal$$FULFILLED ? 'fulfilled' : 'rejected', promise);\n      }\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$rsvp$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$rsvp$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$rsvp$$internal$$TRY_CATCH_ERROR = new lib$rsvp$$internal$$ErrorObject();\n\n    function lib$rsvp$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$rsvp$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$rsvp$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$rsvp$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$rsvp$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$rsvp$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$rsvp$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$rsvp$$internal$$reject(promise, lib$rsvp$$internal$$withOwnPromise());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$rsvp$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$rsvp$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$rsvp$$internal$$reject(promise, error);\n      } else if (settled === lib$rsvp$$internal$$FULFILLED) {\n        lib$rsvp$$internal$$fulfill(promise, value);\n      } else if (settled === lib$rsvp$$internal$$REJECTED) {\n        lib$rsvp$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$rsvp$$internal$$initializePromise(promise, resolver) {\n      var resolved = false;\n      try {\n        resolver(function resolvePromise(value){\n          if (resolved) { return; }\n          resolved = true;\n          lib$rsvp$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          if (resolved) { return; }\n          resolved = true;\n          lib$rsvp$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$rsvp$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$rsvp$enumerator$$makeSettledResult(state, position, value) {\n      if (state === lib$rsvp$$internal$$FULFILLED) {\n        return {\n          state: 'fulfilled',\n          value: value\n        };\n      } else {\n         return {\n          state: 'rejected',\n          reason: value\n        };\n      }\n    }\n\n    function lib$rsvp$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$rsvp$$internal$$noop, label);\n      enumerator._abortOnReject = abortOnReject;\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$rsvp$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$rsvp$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$rsvp$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    var lib$rsvp$enumerator$$default = lib$rsvp$enumerator$$Enumerator;\n\n    lib$rsvp$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$rsvp$utils$$isArray(input);\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n      var length     = enumerator.length;\n      var promise    = enumerator.promise;\n      var input      = enumerator._input;\n\n      for (var i = 0; promise._state === lib$rsvp$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n      if (lib$rsvp$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$rsvp$$internal$$PENDING) {\n          entry._onError = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = enumerator._makeResult(lib$rsvp$$internal$$FULFILLED, i, entry);\n      }\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$rsvp$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (enumerator._abortOnReject && state === lib$rsvp$$internal$$REJECTED) {\n          lib$rsvp$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = enumerator._makeResult(state, i, value);\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$rsvp$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\n      return value;\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$rsvp$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$rsvp$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$rsvp$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$rsvp$promise$all$$all(entries, label) {\n      return new lib$rsvp$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\n    }\n    var lib$rsvp$promise$all$$default = lib$rsvp$promise$all$$all;\n    function lib$rsvp$promise$race$$race(entries, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$rsvp$$internal$$noop, label);\n\n      if (!lib$rsvp$utils$$isArray(entries)) {\n        lib$rsvp$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$rsvp$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$rsvp$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$rsvp$$internal$$PENDING && i < length; i++) {\n        lib$rsvp$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$rsvp$promise$race$$default = lib$rsvp$promise$race$$race;\n    function lib$rsvp$promise$resolve$$resolve(object, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$rsvp$$internal$$noop, label);\n      lib$rsvp$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$rsvp$promise$resolve$$default = lib$rsvp$promise$resolve$$resolve;\n    function lib$rsvp$promise$reject$$reject(reason, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$rsvp$$internal$$noop, label);\n      lib$rsvp$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$rsvp$promise$reject$$default = lib$rsvp$promise$reject$$reject;\n\n    var lib$rsvp$promise$$guidKey = 'rsvp_' + lib$rsvp$utils$$now() + '-';\n    var lib$rsvp$promise$$counter = 0;\n\n    function lib$rsvp$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$rsvp$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    function lib$rsvp$promise$$Promise(resolver, label) {\n      var promise = this;\n\n      promise._id = lib$rsvp$promise$$counter++;\n      promise._label = label;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n\n      if (lib$rsvp$config$$config.instrument) {\n        lib$rsvp$instrument$$default('created', promise);\n      }\n\n      if (lib$rsvp$$internal$$noop !== resolver) {\n        if (!lib$rsvp$utils$$isFunction(resolver)) {\n          lib$rsvp$promise$$needsResolver();\n        }\n\n        if (!(promise instanceof lib$rsvp$promise$$Promise)) {\n          lib$rsvp$promise$$needsNew();\n        }\n\n        lib$rsvp$$internal$$initializePromise(promise, resolver);\n      }\n    }\n\n    var lib$rsvp$promise$$default = lib$rsvp$promise$$Promise;\n\n    // deprecated\n    lib$rsvp$promise$$Promise.cast = lib$rsvp$promise$resolve$$default;\n    lib$rsvp$promise$$Promise.all = lib$rsvp$promise$all$$default;\n    lib$rsvp$promise$$Promise.race = lib$rsvp$promise$race$$default;\n    lib$rsvp$promise$$Promise.resolve = lib$rsvp$promise$resolve$$default;\n    lib$rsvp$promise$$Promise.reject = lib$rsvp$promise$reject$$default;\n\n    lib$rsvp$promise$$Promise.prototype = {\n      constructor: lib$rsvp$promise$$Promise,\n\n      _guidKey: lib$rsvp$promise$$guidKey,\n\n      _onError: function (reason) {\n        var promise = this;\n        lib$rsvp$config$$config.after(function() {\n          if (promise._onError) {\n            lib$rsvp$config$$config['trigger']('error', reason, promise._label);\n          }\n        });\n      },\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfillment\n      @param {Function} onRejection\n      @param {String} label optional string for labeling the promise.\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection, label) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$rsvp$$internal$$FULFILLED && !onFulfillment || state === lib$rsvp$$internal$$REJECTED && !onRejection) {\n          if (lib$rsvp$config$$config.instrument) {\n            lib$rsvp$instrument$$default('chained', parent, parent);\n          }\n          return parent;\n        }\n\n        parent._onError = null;\n\n        var child = new parent.constructor(lib$rsvp$$internal$$noop, label);\n        var result = parent._result;\n\n        if (lib$rsvp$config$$config.instrument) {\n          lib$rsvp$instrument$$default('chained', parent, child);\n        }\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$rsvp$config$$config.async(function(){\n            lib$rsvp$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$rsvp$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      @param {String} label optional string for labeling the promise.\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection, label) {\n        return this.then(undefined, onRejection, label);\n      },\n\n    /**\n      `finally` will be invoked regardless of the promise's fate just as native\n      try/catch/finally behaves\n\n      Synchronous example:\n\n      ```js\n      findAuthor() {\n        if (Math.random() > 0.5) {\n          throw new Error();\n        }\n        return new Author();\n      }\n\n      try {\n        return findAuthor(); // succeed or fail\n      } catch(error) {\n        return findOtherAuther();\n      } finally {\n        // always runs\n        // doesn't affect the return value\n      }\n      ```\n\n      Asynchronous example:\n\n      ```js\n      findAuthor().catch(function(reason){\n        return findOtherAuther();\n      }).finally(function(){\n        // author was either found, or not\n      });\n      ```\n\n      @method finally\n      @param {Function} callback\n      @param {String} label optional string for labeling the promise.\n      Useful for tooling.\n      @return {Promise}\n    */\n      'finally': function(callback, label) {\n        var promise = this;\n        var constructor = promise.constructor;\n\n        return promise.then(function(value) {\n          return constructor.resolve(callback()).then(function(){\n            return value;\n          });\n        }, function(reason) {\n          return constructor.resolve(callback()).then(function(){\n            throw reason;\n          });\n        }, label);\n      }\n    };\n\n    function lib$rsvp$all$settled$$AllSettled(Constructor, entries, label) {\n      this._superConstructor(Constructor, entries, false /* don't abort on reject */, label);\n    }\n\n    lib$rsvp$all$settled$$AllSettled.prototype = lib$rsvp$utils$$o_create(lib$rsvp$enumerator$$default.prototype);\n    lib$rsvp$all$settled$$AllSettled.prototype._superConstructor = lib$rsvp$enumerator$$default;\n    lib$rsvp$all$settled$$AllSettled.prototype._makeResult = lib$rsvp$enumerator$$makeSettledResult;\n    lib$rsvp$all$settled$$AllSettled.prototype._validationError = function() {\n      return new Error('allSettled must be called with an array');\n    };\n\n    function lib$rsvp$all$settled$$allSettled(entries, label) {\n      return new lib$rsvp$all$settled$$AllSettled(lib$rsvp$promise$$default, entries, label).promise;\n    }\n    var lib$rsvp$all$settled$$default = lib$rsvp$all$settled$$allSettled;\n    function lib$rsvp$all$$all(array, label) {\n      return lib$rsvp$promise$$default.all(array, label);\n    }\n    var lib$rsvp$all$$default = lib$rsvp$all$$all;\n    var lib$rsvp$asap$$len = 0;\n    var lib$rsvp$asap$$toString = {}.toString;\n    var lib$rsvp$asap$$vertxNext;\n    function lib$rsvp$asap$$asap(callback, arg) {\n      lib$rsvp$asap$$queue[lib$rsvp$asap$$len] = callback;\n      lib$rsvp$asap$$queue[lib$rsvp$asap$$len + 1] = arg;\n      lib$rsvp$asap$$len += 2;\n      if (lib$rsvp$asap$$len === 2) {\n        // If len is 1, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        lib$rsvp$asap$$scheduleFlush();\n      }\n    }\n\n    var lib$rsvp$asap$$default = lib$rsvp$asap$$asap;\n\n    var lib$rsvp$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$rsvp$asap$$browserGlobal = lib$rsvp$asap$$browserWindow || {};\n    var lib$rsvp$asap$$BrowserMutationObserver = lib$rsvp$asap$$browserGlobal.MutationObserver || lib$rsvp$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$rsvp$asap$$isNode = typeof self === 'undefined' &&\n      typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$rsvp$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$rsvp$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$rsvp$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$rsvp$asap$$useVertxTimer() {\n      return function() {\n        lib$rsvp$asap$$vertxNext(lib$rsvp$asap$$flush);\n      };\n    }\n\n    function lib$rsvp$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$rsvp$asap$$BrowserMutationObserver(lib$rsvp$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$rsvp$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$rsvp$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$rsvp$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$rsvp$asap$$flush, 1);\n      };\n    }\n\n    var lib$rsvp$asap$$queue = new Array(1000);\n    function lib$rsvp$asap$$flush() {\n      for (var i = 0; i < lib$rsvp$asap$$len; i+=2) {\n        var callback = lib$rsvp$asap$$queue[i];\n        var arg = lib$rsvp$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$rsvp$asap$$queue[i] = undefined;\n        lib$rsvp$asap$$queue[i+1] = undefined;\n      }\n\n      lib$rsvp$asap$$len = 0;\n    }\n\n    function lib$rsvp$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$rsvp$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$rsvp$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$rsvp$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$rsvp$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$rsvp$asap$$isNode) {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useNextTick();\n    } else if (lib$rsvp$asap$$BrowserMutationObserver) {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useMutationObserver();\n    } else if (lib$rsvp$asap$$isWorker) {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useMessageChannel();\n    } else if (lib$rsvp$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$attemptVertex();\n    } else {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useSetTimeout();\n    }\n    function lib$rsvp$defer$$defer(label) {\n      var deferred = {};\n\n      deferred['promise'] = new lib$rsvp$promise$$default(function(resolve, reject) {\n        deferred['resolve'] = resolve;\n        deferred['reject'] = reject;\n      }, label);\n\n      return deferred;\n    }\n    var lib$rsvp$defer$$default = lib$rsvp$defer$$defer;\n    function lib$rsvp$filter$$filter(promises, filterFn, label) {\n      return lib$rsvp$promise$$default.all(promises, label).then(function(values) {\n        if (!lib$rsvp$utils$$isFunction(filterFn)) {\n          throw new TypeError(\"You must pass a function as filter's second argument.\");\n        }\n\n        var length = values.length;\n        var filtered = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          filtered[i] = filterFn(values[i]);\n        }\n\n        return lib$rsvp$promise$$default.all(filtered, label).then(function(filtered) {\n          var results = new Array(length);\n          var newLength = 0;\n\n          for (var i = 0; i < length; i++) {\n            if (filtered[i]) {\n              results[newLength] = values[i];\n              newLength++;\n            }\n          }\n\n          results.length = newLength;\n\n          return results;\n        });\n      });\n    }\n    var lib$rsvp$filter$$default = lib$rsvp$filter$$filter;\n\n    function lib$rsvp$promise$hash$$PromiseHash(Constructor, object, label) {\n      this._superConstructor(Constructor, object, true, label);\n    }\n\n    var lib$rsvp$promise$hash$$default = lib$rsvp$promise$hash$$PromiseHash;\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype = lib$rsvp$utils$$o_create(lib$rsvp$enumerator$$default.prototype);\n    lib$rsvp$promise$hash$$PromiseHash.prototype._superConstructor = lib$rsvp$enumerator$$default;\n    lib$rsvp$promise$hash$$PromiseHash.prototype._init = function() {\n      this._result = {};\n    };\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype._validateInput = function(input) {\n      return input && typeof input === 'object';\n    };\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype._validationError = function() {\n      return new Error('Promise.hash must be called with an object');\n    };\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype._enumerate = function() {\n      var enumerator = this;\n      var promise    = enumerator.promise;\n      var input      = enumerator._input;\n      var results    = [];\n\n      for (var key in input) {\n        if (promise._state === lib$rsvp$$internal$$PENDING && Object.prototype.hasOwnProperty.call(input, key)) {\n          results.push({\n            position: key,\n            entry: input[key]\n          });\n        }\n      }\n\n      var length = results.length;\n      enumerator._remaining = length;\n      var result;\n\n      for (var i = 0; promise._state === lib$rsvp$$internal$$PENDING && i < length; i++) {\n        result = results[i];\n        enumerator._eachEntry(result.entry, result.position);\n      }\n    };\n\n    function lib$rsvp$hash$settled$$HashSettled(Constructor, object, label) {\n      this._superConstructor(Constructor, object, false, label);\n    }\n\n    lib$rsvp$hash$settled$$HashSettled.prototype = lib$rsvp$utils$$o_create(lib$rsvp$promise$hash$$default.prototype);\n    lib$rsvp$hash$settled$$HashSettled.prototype._superConstructor = lib$rsvp$enumerator$$default;\n    lib$rsvp$hash$settled$$HashSettled.prototype._makeResult = lib$rsvp$enumerator$$makeSettledResult;\n\n    lib$rsvp$hash$settled$$HashSettled.prototype._validationError = function() {\n      return new Error('hashSettled must be called with an object');\n    };\n\n    function lib$rsvp$hash$settled$$hashSettled(object, label) {\n      return new lib$rsvp$hash$settled$$HashSettled(lib$rsvp$promise$$default, object, label).promise;\n    }\n    var lib$rsvp$hash$settled$$default = lib$rsvp$hash$settled$$hashSettled;\n    function lib$rsvp$hash$$hash(object, label) {\n      return new lib$rsvp$promise$hash$$default(lib$rsvp$promise$$default, object, label).promise;\n    }\n    var lib$rsvp$hash$$default = lib$rsvp$hash$$hash;\n    function lib$rsvp$map$$map(promises, mapFn, label) {\n      return lib$rsvp$promise$$default.all(promises, label).then(function(values) {\n        if (!lib$rsvp$utils$$isFunction(mapFn)) {\n          throw new TypeError(\"You must pass a function as map's second argument.\");\n        }\n\n        var length = values.length;\n        var results = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          results[i] = mapFn(values[i]);\n        }\n\n        return lib$rsvp$promise$$default.all(results, label);\n      });\n    }\n    var lib$rsvp$map$$default = lib$rsvp$map$$map;\n\n    function lib$rsvp$node$$Result() {\n      this.value = undefined;\n    }\n\n    var lib$rsvp$node$$ERROR = new lib$rsvp$node$$Result();\n    var lib$rsvp$node$$GET_THEN_ERROR = new lib$rsvp$node$$Result();\n\n    function lib$rsvp$node$$getThen(obj) {\n      try {\n       return obj.then;\n      } catch(error) {\n        lib$rsvp$node$$ERROR.value= error;\n        return lib$rsvp$node$$ERROR;\n      }\n    }\n\n\n    function lib$rsvp$node$$tryApply(f, s, a) {\n      try {\n        f.apply(s, a);\n      } catch(error) {\n        lib$rsvp$node$$ERROR.value = error;\n        return lib$rsvp$node$$ERROR;\n      }\n    }\n\n    function lib$rsvp$node$$makeObject(_, argumentNames) {\n      var obj = {};\n      var name;\n      var i;\n      var length = _.length;\n      var args = new Array(length);\n\n      for (var x = 0; x < length; x++) {\n        args[x] = _[x];\n      }\n\n      for (i = 0; i < argumentNames.length; i++) {\n        name = argumentNames[i];\n        obj[name] = args[i + 1];\n      }\n\n      return obj;\n    }\n\n    function lib$rsvp$node$$arrayResult(_) {\n      var length = _.length;\n      var args = new Array(length - 1);\n\n      for (var i = 1; i < length; i++) {\n        args[i - 1] = _[i];\n      }\n\n      return args;\n    }\n\n    function lib$rsvp$node$$wrapThenable(then, promise) {\n      return {\n        then: function(onFulFillment, onRejection) {\n          return then.call(promise, onFulFillment, onRejection);\n        }\n      };\n    }\n\n    function lib$rsvp$node$$denodeify(nodeFunc, options) {\n      var fn = function() {\n        var self = this;\n        var l = arguments.length;\n        var args = new Array(l + 1);\n        var arg;\n        var promiseInput = false;\n\n        for (var i = 0; i < l; ++i) {\n          arg = arguments[i];\n\n          if (!promiseInput) {\n            // TODO: clean this up\n            promiseInput = lib$rsvp$node$$needsPromiseInput(arg);\n            if (promiseInput === lib$rsvp$node$$GET_THEN_ERROR) {\n              var p = new lib$rsvp$promise$$default(lib$rsvp$$internal$$noop);\n              lib$rsvp$$internal$$reject(p, lib$rsvp$node$$GET_THEN_ERROR.value);\n              return p;\n            } else if (promiseInput && promiseInput !== true) {\n              arg = lib$rsvp$node$$wrapThenable(promiseInput, arg);\n            }\n          }\n          args[i] = arg;\n        }\n\n        var promise = new lib$rsvp$promise$$default(lib$rsvp$$internal$$noop);\n\n        args[l] = function(err, val) {\n          if (err)\n            lib$rsvp$$internal$$reject(promise, err);\n          else if (options === undefined)\n            lib$rsvp$$internal$$resolve(promise, val);\n          else if (options === true)\n            lib$rsvp$$internal$$resolve(promise, lib$rsvp$node$$arrayResult(arguments));\n          else if (lib$rsvp$utils$$isArray(options))\n            lib$rsvp$$internal$$resolve(promise, lib$rsvp$node$$makeObject(arguments, options));\n          else\n            lib$rsvp$$internal$$resolve(promise, val);\n        };\n\n        if (promiseInput) {\n          return lib$rsvp$node$$handlePromiseInput(promise, args, nodeFunc, self);\n        } else {\n          return lib$rsvp$node$$handleValueInput(promise, args, nodeFunc, self);\n        }\n      };\n\n      fn.__proto__ = nodeFunc;\n\n      return fn;\n    }\n\n    var lib$rsvp$node$$default = lib$rsvp$node$$denodeify;\n\n    function lib$rsvp$node$$handleValueInput(promise, args, nodeFunc, self) {\n      var result = lib$rsvp$node$$tryApply(nodeFunc, self, args);\n      if (result === lib$rsvp$node$$ERROR) {\n        lib$rsvp$$internal$$reject(promise, result.value);\n      }\n      return promise;\n    }\n\n    function lib$rsvp$node$$handlePromiseInput(promise, args, nodeFunc, self){\n      return lib$rsvp$promise$$default.all(args).then(function(args){\n        var result = lib$rsvp$node$$tryApply(nodeFunc, self, args);\n        if (result === lib$rsvp$node$$ERROR) {\n          lib$rsvp$$internal$$reject(promise, result.value);\n        }\n        return promise;\n      });\n    }\n\n    function lib$rsvp$node$$needsPromiseInput(arg) {\n      if (arg && typeof arg === 'object') {\n        if (arg.constructor === lib$rsvp$promise$$default) {\n          return true;\n        } else {\n          return lib$rsvp$node$$getThen(arg);\n        }\n      } else {\n        return false;\n      }\n    }\n    var lib$rsvp$platform$$platform;\n\n    /* global self */\n    if (typeof self === 'object') {\n      lib$rsvp$platform$$platform = self;\n\n    /* global global */\n    } else if (typeof global === 'object') {\n      lib$rsvp$platform$$platform = global;\n    } else {\n      throw new Error('no global: `self` or `global` found');\n    }\n\n    var lib$rsvp$platform$$default = lib$rsvp$platform$$platform;\n    function lib$rsvp$race$$race(array, label) {\n      return lib$rsvp$promise$$default.race(array, label);\n    }\n    var lib$rsvp$race$$default = lib$rsvp$race$$race;\n    function lib$rsvp$reject$$reject(reason, label) {\n      return lib$rsvp$promise$$default.reject(reason, label);\n    }\n    var lib$rsvp$reject$$default = lib$rsvp$reject$$reject;\n    function lib$rsvp$resolve$$resolve(value, label) {\n      return lib$rsvp$promise$$default.resolve(value, label);\n    }\n    var lib$rsvp$resolve$$default = lib$rsvp$resolve$$resolve;\n    function lib$rsvp$rethrow$$rethrow(reason) {\n      setTimeout(function() {\n        throw reason;\n      });\n      throw reason;\n    }\n    var lib$rsvp$rethrow$$default = lib$rsvp$rethrow$$rethrow;\n\n    // defaults\n    lib$rsvp$config$$config.async = lib$rsvp$asap$$default;\n    lib$rsvp$config$$config.after = function(cb) {\n      setTimeout(cb, 0);\n    };\n    var lib$rsvp$$cast = lib$rsvp$resolve$$default;\n    function lib$rsvp$$async(callback, arg) {\n      lib$rsvp$config$$config.async(callback, arg);\n    }\n\n    function lib$rsvp$$on() {\n      lib$rsvp$config$$config['on'].apply(lib$rsvp$config$$config, arguments);\n    }\n\n    function lib$rsvp$$off() {\n      lib$rsvp$config$$config['off'].apply(lib$rsvp$config$$config, arguments);\n    }\n\n    // Set up instrumentation through `window.__PROMISE_INTRUMENTATION__`\n    if (typeof window !== 'undefined' && typeof window['__PROMISE_INSTRUMENTATION__'] === 'object') {\n      var lib$rsvp$$callbacks = window['__PROMISE_INSTRUMENTATION__'];\n      lib$rsvp$config$$configure('instrument', true);\n      for (var lib$rsvp$$eventName in lib$rsvp$$callbacks) {\n        if (lib$rsvp$$callbacks.hasOwnProperty(lib$rsvp$$eventName)) {\n          lib$rsvp$$on(lib$rsvp$$eventName, lib$rsvp$$callbacks[lib$rsvp$$eventName]);\n        }\n      }\n    }\n\n    var lib$rsvp$umd$$RSVP = {\n      'race': lib$rsvp$race$$default,\n      'Promise': lib$rsvp$promise$$default,\n      'allSettled': lib$rsvp$all$settled$$default,\n      'hash': lib$rsvp$hash$$default,\n      'hashSettled': lib$rsvp$hash$settled$$default,\n      'denodeify': lib$rsvp$node$$default,\n      'on': lib$rsvp$$on,\n      'off': lib$rsvp$$off,\n      'map': lib$rsvp$map$$default,\n      'filter': lib$rsvp$filter$$default,\n      'resolve': lib$rsvp$resolve$$default,\n      'reject': lib$rsvp$reject$$default,\n      'all': lib$rsvp$all$$default,\n      'rethrow': lib$rsvp$rethrow$$default,\n      'defer': lib$rsvp$defer$$default,\n      'EventTarget': lib$rsvp$events$$default,\n      'configure': lib$rsvp$config$$configure,\n      'async': lib$rsvp$$async\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$rsvp$umd$$RSVP; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$rsvp$umd$$RSVP;\n    } else if (typeof lib$rsvp$platform$$default !== 'undefined') {\n      lib$rsvp$platform$$default['RSVP'] = lib$rsvp$umd$$RSVP;\n    }\n}).call(this);\n\n",";(function () {\n\n  var object = typeof exports != 'undefined' ? exports : this; // #8: web workers\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/=+$/, '');\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n","define('shopify-buy/adapters/listings-adapter', ['exports', '../ajax', '../metal/core-object', '../version'], function (exports, _ajax, _coreObject, _version) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _ajax2 = _interopRequireDefault(_ajax);\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _version2 = _interopRequireDefault(_version);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var ListingsAdapter = _coreObject2.default.extend({\n    ajax: _ajax2.default,\n\n    constructor: function constructor(config) {\n      this.config = config;\n    },\n\n\n    get base64ApiKey() {\n      return btoa(this.config.apiKey);\n    },\n\n    get baseUrl() {\n      var _config = this.config;\n      var domain = _config.domain;\n      var appId = _config.appId;\n\n\n      return 'https://' + domain + '/api/apps/' + appId;\n    },\n\n    get headers() {\n      return {\n        Authorization: 'Basic ' + this.base64ApiKey,\n        'Content-Type': 'application/json',\n        'X-SDK-Variant': 'javascript',\n        'X-SDK-Version': _version2.default\n\n      };\n    },\n\n    pathForType: function pathForType(type) {\n      return '/' + type.slice(0, -1) + '_listings';\n    },\n    buildUrl: function buildUrl(singleOrMultiple, type, idOrQuery) {\n      switch (singleOrMultiple) {\n        case 'multiple':\n          return this.buildMultipleUrl(type, idOrQuery);\n        case 'single':\n          return this.buildSingleUrl(type, idOrQuery);\n        default:\n          return '';\n      }\n    },\n    buildMultipleUrl: function buildMultipleUrl(type) {\n      var query = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var url = '' + this.baseUrl + this.pathForType(type);\n      var paramNames = Object.keys(query);\n\n      if (paramNames.length > 0) {\n        var queryString = paramNames.map(function (key) {\n          var value = void 0;\n\n          if (Array.isArray(query[key])) {\n            value = query[key].join(',');\n          } else {\n            value = query[key];\n          }\n\n          return key + '=' + encodeURIComponent(value);\n        }).join('&');\n\n        return url + '?' + queryString;\n      }\n\n      return url;\n    },\n    buildSingleUrl: function buildSingleUrl(type, id) {\n      return '' + this.baseUrl + this.pathForType(type) + '/' + id;\n    },\n    fetchMultiple: function fetchMultiple() /* type, [query] */{\n      var url = this.buildUrl.apply(this, ['multiple'].concat(Array.prototype.slice.call(arguments)));\n\n      return this.ajax('GET', url, { headers: this.headers }).then(function (response) {\n        return response.json;\n      });\n    },\n    fetchSingle: function fetchSingle() /* type, id */{\n      var url = this.buildUrl.apply(this, ['single'].concat(Array.prototype.slice.call(arguments)));\n\n      return this.ajax('GET', url, { headers: this.headers }).then(function (response) {\n        return response.json;\n      });\n    }\n  });\n\n  exports.default = ListingsAdapter;\n});","define('shopify-buy/adapters/local-storage-adapter', ['exports', '../metal/core-object', '../metal/set-guid-for', '../store'], function (exports, _coreObject, _setGuidFor, _store) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _setGuidFor2 = _interopRequireDefault(_setGuidFor);\n\n  var _store2 = _interopRequireDefault(_store);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  var LocalStorageAdapter = _coreObject2.default.extend({\n    constructor: function constructor() {\n      this.store = new _store2.default();\n    },\n    idKeyForType: function idKeyForType() /* type */{\n      return _setGuidFor.GUID_KEY;\n    },\n    fetchSingle: function fetchSingle(type, id) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        var value = _this.store.getItem(_this.storageKey(type, id));\n\n        if (value === null) {\n          reject(new Error(type + '#' + id + ' not found'));\n\n          return;\n        }\n\n        resolve(value);\n      });\n    },\n    create: function create(type, payload) {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        var id = _this2.identify(payload);\n\n        _this2.store.setItem(_this2.storageKey(type, id), payload);\n        resolve(payload);\n      });\n    },\n    update: function update(type, id, payload) {\n      var _this3 = this;\n\n      return new Promise(function (resolve) {\n        _this3.store.setItem(_this3.storageKey(type, id), payload);\n        resolve(payload);\n      });\n    },\n    storageKey: function storageKey(type, id) {\n      return type + '.' + id;\n    },\n    identify: function identify(payload) {\n      var keys = Object.keys(payload);\n\n      if (keys.length === 1 && _typeof(payload[keys[0]]) === 'object') {\n        return (0, _setGuidFor2.default)(payload[keys[0]]);\n      }\n\n      return (0, _setGuidFor2.default)(payload);\n    }\n  });\n\n  exports.default = LocalStorageAdapter;\n});","define('shopify-buy/ajax', ['exports', './ie9-ajax', './metal/global'], function (exports, _ie9Ajax, _global) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = ajax;\n\n  var _ie9Ajax2 = _interopRequireDefault(_ie9Ajax);\n\n  var _global2 = _interopRequireDefault(_global);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n      return response;\n    }\n\n    var error = new Error(response.statusText);\n\n    error.status = response.status;\n    error.response = response;\n    throw error;\n  }\n\n  function parseResponse(response) {\n    return response.json().then(function (json) {\n      return { json: json, originalResponse: response, isJSON: true };\n    }).catch(function () {\n      var responseClone = response.clone();\n\n      return responseClone.text().then(function (text) {\n        return { text: text, originalResponse: responseClone, isText: true };\n      });\n    });\n  }\n\n  function ajax(method, url) {\n    var opts = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    if (_global2.default.XDomainRequest) {\n      return _ie9Ajax2.default.apply(undefined, arguments);\n    }\n\n    opts.method = method;\n    opts.mode = 'cors';\n\n    return fetch(url, opts).then(checkStatus).then(parseResponse);\n  }\n});","define('shopify-buy/config', ['exports', './metal/core-object', './logger'], function (exports, _coreObject, _logger) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _logger2 = _interopRequireDefault(_logger);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /**\n   * @module shopify-buy\n   * @submodule config\n   */\n\n  var Config = _coreObject2.default.extend({\n    constructor: function constructor(attrs) {\n      var _this = this;\n\n      Object.keys(this.deprecatedProperties).forEach(function (key) {\n        if (attrs.hasOwnProperty(key)) {\n          var transformName = _this.deprecatedProperties[key];\n          var transform = _this[transformName];\n\n          transform(attrs[key], attrs);\n        }\n      });\n      this.requiredProperties.forEach(function (key) {\n        if (!attrs.hasOwnProperty(key)) {\n          throw new Error('new Config() requires the option \\'' + key + '\\'');\n        } else {\n          _this[key] = attrs[key];\n        }\n      });\n    },\n\n\n    /**\n     * An object with keys for deprecated properties and values as functions that\n     * will transform the value into a usable value. A depracation transform should\n     * have the value signature function(deprecated_value, config_to_be_transformed)\n     * @attribute deprecatedProperties\n     * @default { myShopifyDomain: this.transformMyShopifyDomain }\n     * @type Object\n     * @private\n     */\n    deprecatedProperties: {\n      myShopifyDomain: 'transformMyShopifyDomain'\n    },\n\n    transformMyShopifyDomain: function transformMyShopifyDomain(subdomain, attrs) {\n      _logger2.default.warn('Config - ', 'myShopifyDomain is deprecated, please use domain and provide the full shop domain.');\n      attrs.domain = subdomain + '.myshopify.com';\n    },\n\n\n    /**\n     * Properties that must be set on initializations\n     * @attribute requiredProperties\n     * @default ['apiKey', 'appId', 'myShopifyDomain']\n     * @type Array\n     * @private\n     */\n    requiredProperties: ['apiKey', 'appId', 'domain'],\n\n    /**\n     * The apiKey for authenticating against shopify. This is your api client's\n     * public api token. Not the shared secret. Set during initialation.\n     * @attribute apiKey\n     * @default ''\n     * @type String\n     * @public\n     */\n    apiKey: '',\n\n    /**\n     * @attribute appId\n     * @default ''\n     * @type String\n     * @public\n     */\n    appId: '',\n\n    /**\n     * The domain that all the api requests will go to\n     * @attribute domain\n     * @default ''\n     * @type String\n     * @public\n     */\n    domain: '',\n\n    /**\n     * The subdomain of myshopify.io that all the api requests will go to\n     * @attribute myShopifyDomain\n     * @default ''\n     * @type String\n     * @public\n     * @deprecated Use `config.domain` instead.\n     */\n    myShopifyDomain: ''\n  });\n\n  exports.default = Config;\n});","define('shopify-buy/ie9-ajax', ['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  function authToUrl(url, opts) {\n    var authorization = void 0;\n\n    if (opts.headers) {\n      Object.keys(opts.headers).forEach(function (key) {\n        if (key.toLowerCase() === 'authorization') {\n          authorization = opts.headers[key];\n        }\n      });\n    }\n\n    if (authorization) {\n      var hashedKey = authorization.split(' ').slice(-1)[0];\n\n      try {\n        var plainKey = atob(hashedKey);\n\n        var newUrl = void 0;\n\n        if (url.indexOf('?') > -1) {\n          newUrl = url + '&_x_http_authorization=' + plainKey;\n        } else {\n          newUrl = url + '?_x_http_authorization=' + plainKey;\n        }\n\n        return newUrl;\n      } catch (e) {\n        // atob choked on non-encoded data. Therefore, not a form of auth we\n        // support.\n        //\n        // NOOP\n        //\n      }\n    }\n\n    /* eslint newline-before-return: 0 */\n    return url;\n  }\n\n  function ie9Ajax(method, url, opts) {\n    return new Promise(function (resolve, reject) {\n      var xdr = new XDomainRequest();\n\n      xdr.onload = function () {\n        try {\n          var json = JSON.parse(xdr.responseText);\n\n          resolve({ json: json, originalResponse: xdr, isJSON: true });\n        } catch (e) {\n          resolve({ text: xdr.responseText, originalResponse: xdr, isText: true });\n        }\n      };\n\n      function handleError() {\n        reject(new Error('There was an error with the XDR'));\n      }\n\n      xdr.onerror = handleError;\n      xdr.ontimeout = handleError;\n\n      xdr.open(method, authToUrl(url, opts));\n      xdr.send(opts.data);\n    });\n  }\n\n  exports.default = ie9Ajax;\n});","define('shopify-buy/isomorphic-btoa', ['./metal/global', './metal/is-node-like-environment'], function (_global, _isNodeLikeEnvironment) {\n  'use strict';\n\n  var _global2 = _interopRequireDefault(_global);\n\n  var _isNodeLikeEnvironment2 = _interopRequireDefault(_isNodeLikeEnvironment);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /* global Buffer */\n\n  var btoa = _global2.default.btoa;\n\n  if (!btoa && (0, _isNodeLikeEnvironment2.default)()) {\n    _global2.default.btoa = function (string) {\n      return new Buffer(string).toString('base64');\n    };\n  }\n});","define('shopify-buy/isomorphic-fetch', ['./metal/global', './metal/is-node-like-environment'], function (_global, _isNodeLikeEnvironment) {\n  'use strict';\n\n  var _global2 = _interopRequireDefault(_global);\n\n  var _isNodeLikeEnvironment2 = _interopRequireDefault(_isNodeLikeEnvironment);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /* globals require */\n\n  var fetch = _global2.default.fetch;\n\n  if (!fetch && (0, _isNodeLikeEnvironment2.default)()) {\n    /* this indirection is needed because babel throws errors when\n     * transpiling require('node-fetch') using `amd` plugin with babel6\n     */\n    var localRequire = require;\n\n    _global2.default.fetch = localRequire('node-fetch');\n    _global2.default.Response = _global2.default.fetch.Response;\n  }\n});","define('shopify-buy/logger', ['exports', './metal/core-object'], function (exports, _coreObject) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.wrapConsole = undefined;\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n\n  function wrapConsole(logCommand) {\n    var logMethod = function logMethod() {\n      /* eslint-disable no-console */\n      if (console[logCommand]) {\n        var _console;\n\n        (_console = console)[logCommand].apply(_console, arguments);\n      } else {\n        var _console2;\n\n        (_console2 = console).log.apply(_console2, arguments);\n      }\n      /* eslint-enable no-console */\n    };\n\n    return function () {\n      var args = [].concat(Array.prototype.slice.call(arguments));\n\n      args.unshift('[JS-BUY-SDK]: ');\n      logMethod.apply(undefined, _toConsumableArray(args));\n    };\n  }\n\n  var Logger = _coreObject2.default.extend({\n    constructor: function constructor() {},\n\n    debug: wrapConsole('debug'),\n    info: wrapConsole('info'),\n    warn: wrapConsole('warn'),\n    error: wrapConsole('error')\n  });\n\n  exports.wrapConsole = wrapConsole;\n  exports.default = new Logger();\n});","define('shopify-buy/metal/assign', ['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  /* eslint no-undefined: 0 */\n\n  var assign = void 0;\n\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      var propertyObjects = [].slice.call(arguments, 1);\n\n      if (propertyObjects.length > 0) {\n        propertyObjects.forEach(function (source) {\n          if (source !== undefined && source !== null) {\n            var nextKey = void 0;\n\n            for (nextKey in source) {\n              if (source.hasOwnProperty(nextKey)) {\n                output[nextKey] = source[nextKey];\n              }\n            }\n          }\n        });\n      }\n\n      return output;\n    };\n  }\n\n  exports.default = assign;\n});","define('shopify-buy/metal/core-object', ['exports', './create-class'], function (exports, _createClass) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _createClass2 = _interopRequireDefault(_createClass);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var CoreObject = (0, _createClass2.default)({\n    constructor: function constructor() {},\n\n\n    static: {\n      extend: function extend(subClassProps) {\n        return (0, _createClass2.default)(subClassProps, this);\n      }\n    }\n  });\n\n  exports.default = CoreObject;\n});","define('shopify-buy/metal/create-class', ['exports', './assign', './includes'], function (exports, _assign, _includes) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _assign2 = _interopRequireDefault(_assign);\n\n  var _includes2 = _interopRequireDefault(_includes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function wrap(func, superFunc) {\n    function superWrapper() {\n      var originalSuper = this.super;\n\n      this.super = function () {\n        return superFunc.apply(this, arguments);\n      };\n\n      var ret = func.apply(this, arguments);\n\n      this.super = originalSuper;\n\n      return ret;\n    }\n\n    superWrapper.wrappedFunction = func;\n\n    return superWrapper;\n  }\n\n  function defineProperties(names, proto, destination) {\n    var parentProto = Object.getPrototypeOf(destination);\n\n    names.forEach(function (name) {\n      var descriptor = Object.getOwnPropertyDescriptor(proto, name);\n      var parentDescriptor = parentProto.hasOwnProperty(name) && Object.getOwnPropertyDescriptor(parentProto, name);\n\n      if (typeof parentDescriptor.value === 'function' && typeof descriptor.value === 'function') {\n        var wrappedFunction = wrap(descriptor.value, parentDescriptor.value);\n\n        Object.defineProperty(destination, name, { value: wrappedFunction });\n      } else {\n        Object.defineProperty(destination, name, descriptor);\n      }\n    });\n  }\n\n  function createClass(props) {\n    var parent = arguments.length <= 1 || arguments[1] === undefined ? Object : arguments[1];\n\n    var Constructor = wrap(props.constructor, parent);\n    var instancePropertyNames = Object.getOwnPropertyNames(props).filter(function (key) {\n      return !(0, _includes2.default)(['constructor', 'static'], key);\n    });\n\n    (0, _assign2.default)(Constructor, parent);\n\n    Constructor.prototype = Object.create(parent.prototype);\n    defineProperties(instancePropertyNames, props, Constructor.prototype);\n    Constructor.prototype.constructor = Constructor;\n\n    var staticProps = props.static;\n\n    if (staticProps) {\n      var staticPropertyNames = Object.getOwnPropertyNames(staticProps);\n\n      defineProperties(staticPropertyNames, staticProps, Constructor);\n    }\n\n    return Constructor;\n  }\n\n  exports.default = createClass;\n});","define('shopify-buy/metal/global', ['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  /* global global */\n\n  var globalNamespace = void 0;\n\n  if (typeof global === 'undefined') {\n    globalNamespace = window;\n  } else {\n    globalNamespace = global;\n  }\n\n  exports.default = globalNamespace;\n});","define(\"shopify-buy/metal/includes\", [\"exports\"], function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var includes = void 0;\n\n  if (!Array.prototype.includes) {\n    includes = function includes(array, searchElement) {\n      var ObjectifiedArray = Object(array);\n      var length = parseInt(ObjectifiedArray.length, 10) || 0;\n\n      if (length === 0) {\n        return false;\n      }\n\n      var startIndex = parseInt(arguments[1], 10) || 0;\n      var index = void 0;\n\n      if (startIndex >= 0) {\n        index = startIndex;\n      } else {\n        index = length + startIndex;\n\n        if (index < 0) {\n          index = 0;\n        }\n      }\n\n      while (index < length) {\n        var currentElement = ObjectifiedArray[index];\n\n        /* eslint no-self-compare:0 */\n        if (searchElement === currentElement || searchElement !== searchElement && currentElement !== currentElement) {\n          // NaN !== NaN\n          return true;\n        }\n        index++;\n      }\n\n      return false;\n    };\n  } else {\n    includes = function includes(array) {\n      var args = [].slice.call(arguments, 1);\n\n      return Array.prototype.includes.apply(array, args);\n    };\n  }\n\n  exports.default = includes;\n});","define('shopify-buy/metal/is-node-like-environment', ['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = isNodeLikeEnvironment;\n  function isNodeLikeEnvironment() {\n    var windowAbsent = typeof window === 'undefined';\n    var requirePresent = typeof require === 'function';\n\n    return windowAbsent && requirePresent;\n  }\n});","define('shopify-buy/metal/set-guid-for', ['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  /* eslint no-undefined: 0 complexity: 0 */\n\n  var GUID_KEY = 'shopify-buy-uuid';\n\n  var GUID_PREFIX = 'shopify-buy.' + Date.now();\n\n  var GUID_DESC = {\n    writable: true,\n    configurable: true,\n    enumerable: true,\n    value: null\n  };\n\n  var uuidSeed = 0;\n\n  function uuid() {\n    return ++uuidSeed;\n  }\n\n  var numberCache = {};\n  var stringCache = {};\n\n  function setGuidFor(obj) {\n    if (obj && obj[GUID_KEY]) {\n      return obj[GUID_KEY];\n    }\n\n    if (obj === undefined) {\n      return '(undefined)';\n    }\n\n    if (obj === null) {\n      return '(null)';\n    }\n\n    var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n    var id = void 0;\n\n    switch (type) {\n      case 'number':\n        id = numberCache[obj];\n\n        if (!id) {\n          id = numberCache[obj] = 'nu' + obj;\n        }\n\n        break;\n\n      case 'string':\n        id = stringCache[obj];\n\n        if (!id) {\n          id = stringCache[obj] = 'st' + uuid();\n        }\n\n        break;\n\n      case 'boolean':\n        if (obj) {\n          id = '(true)';\n        } else {\n          id = '(false)';\n        }\n\n        break;\n\n      default:\n        if (obj === Object) {\n          id = '(Object)';\n          break;\n        }\n\n        if (obj === Array) {\n          id = '(Array)';\n          break;\n        }\n\n        id = GUID_PREFIX + '.' + uuid();\n\n        if (obj[GUID_KEY] === null) {\n          obj[GUID_KEY] = id;\n        } else {\n          GUID_DESC.value = id;\n          Object.defineProperty(obj, GUID_KEY, GUID_DESC);\n        }\n    }\n\n    return id;\n  }\n\n  exports.default = setGuidFor;\n  exports.GUID_KEY = GUID_KEY;\n});","define(\"shopify-buy/metal/uniq\", [\"exports\"], function (exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  exports.default = function (array) {\n    return array.reduce(function (uniqueArray, item) {\n      if (uniqueArray.indexOf(item) < 0) {\n        uniqueArray.push(item);\n      }\n\n      return uniqueArray;\n    }, []);\n  };\n});","define('shopify-buy/models/base-model', ['exports', '../metal/core-object', '../metal/assign'], function (exports, _coreObject, _assign) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _assign2 = _interopRequireDefault(_assign);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var BaseModel = _coreObject2.default.extend({\n    constructor: function constructor() {\n      var attrs = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n      var metaAttrs = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      this.attrs = attrs;\n\n      (0, _assign2.default)(this, metaAttrs);\n    },\n\n    attrs: null,\n    serializer: null,\n    adapter: null,\n    shopClient: null\n  });\n\n  exports.default = BaseModel;\n});","define('shopify-buy/models/cart-line-item-model', ['exports', './base-model', '../metal/set-guid-for'], function (exports, _baseModel, _setGuidFor) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _baseModel2 = _interopRequireDefault(_baseModel);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var CartLineItem = _baseModel2.default.extend({\n    constructor: function constructor() {\n      this.super.apply(this, arguments);\n    },\n\n\n    get id() {\n      return this.attrs[_setGuidFor.GUID_KEY];\n    },\n\n    get variant_id() {\n      return this.attrs.variant_id;\n    },\n\n    get product_id() {\n      return this.attrs.product_id;\n    },\n\n    get image() {\n      return this.attrs.image;\n    },\n\n    get title() {\n      return this.attrs.title;\n    },\n\n    get quantity() {\n      return this.attrs.quantity;\n    },\n\n    set quantity(value) {\n      var parsedValue = parseInt(value, 10);\n\n      if (parsedValue < 0) {\n        throw new Error('Quantities must be positive');\n      } else if (parsedValue !== parseFloat(value)) {\n        /* incidentally, this covers all NaN values, because NaN !== Nan */\n        throw new Error('Quantities must be whole numbers');\n      }\n\n      this.attrs.quantity = parsedValue;\n\n      return this.attrs.quantity;\n    },\n\n    get properties() {\n      return this.attrs.properties || {};\n    },\n\n    set properties(value) {\n      this.attrs.properties = value || {};\n\n      return value;\n    },\n\n    get variant_title() {\n      return this.attrs.variant_title;\n    },\n\n    get price() {\n      return this.attrs.price;\n    },\n\n    get compare_at_price() {\n      return this.attrs.compare_at_price;\n    },\n\n    get line_price() {\n      return (this.quantity * parseFloat(this.price)).toFixed(2);\n    },\n\n    get grams() {\n      return this.attrs.grams;\n    }\n  });\n\n  exports.default = CartLineItem;\n});","define('shopify-buy/models/cart-model', ['exports', './base-model', './cart-line-item-model', '../metal/assign', '../metal/set-guid-for', '../metal/global'], function (exports, _baseModel, _cartLineItemModel, _assign, _setGuidFor, _global) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _baseModel2 = _interopRequireDefault(_baseModel);\n\n  var _cartLineItemModel2 = _interopRequireDefault(_cartLineItemModel);\n\n  var _assign2 = _interopRequireDefault(_assign);\n\n  var _setGuidFor2 = _interopRequireDefault(_setGuidFor);\n\n  var _global2 = _interopRequireDefault(_global);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    } else {\n      return Array.from(arr);\n    }\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n  };\n\n  function objectsEqual(one, two) {\n    if (one === two) {\n      return true;\n    }\n\n    return Object.keys(one).every(function (key) {\n      if (one[key] instanceof Date) {\n        return one[key].toString() === two[key].toString();\n      } else if (_typeof(one[key]) === 'object') {\n        return objectsEqual(one[key], two[key]);\n      }\n\n      return one[key] === two[key];\n    });\n  }\n\n  var CartModel = _baseModel2.default.extend({\n    constructor: function constructor() {\n      this.super.apply(this, arguments);\n    },\n\n\n    /**\n      * get ID for current cart\n      * @property id\n      * @type {String}\n    */\n    get id() {\n      return this.attrs[_setGuidFor.GUID_KEY];\n    },\n\n    /**\n      * Get current line items for cart\n      * @property lineItems\n      * @type {Array}\n    */\n    get lineItems() {\n      return (this.attrs.line_items || []).map(function (item) {\n        return new _cartLineItemModel2.default(item);\n      });\n    },\n\n    /**\n      * Gets the sum quantity of each line item\n      * @property lineItemCount\n      * @type {Number}\n    */\n    get lineItemCount() {\n      return this.lineItems.reduce(function (total, item) {\n        return total + item.quantity;\n      }, 0);\n    },\n\n    /**\n      * Get current subtotal price for all line items\n      * @property subtotal\n      * @type {String}\n    */\n    get subtotal() {\n      var subtotal = this.lineItems.reduce(function (runningTotal, lineItem) {\n        return runningTotal + parseFloat(lineItem.line_price);\n      }, 0);\n\n      return subtotal.toFixed(2);\n    },\n\n    /**\n      * Get checkout URL for current cart\n      * @property checkoutUrl\n      * @type {String}\n    */\n    get checkoutUrl() {\n      var config = this.config;\n      var baseUrl = 'https://' + config.domain + '/cart';\n\n      var variantPath = this.lineItems.map(function (item) {\n        return item.variant_id + ':' + item.quantity;\n      });\n\n      var query = 'api_key=' + config.apiKey;\n\n      if (typeof _global2.default.ga === 'function') {\n        var linkerParam = void 0;\n\n        _global2.default.ga(function (tracker) {\n          linkerParam = tracker.get('linkerParam');\n        });\n\n        if (linkerParam) {\n          query += '&' + linkerParam;\n        }\n      }\n\n      return baseUrl + '/' + variantPath + '?' + query;\n    },\n\n    addVariants: function addVariants() {\n      var newLineItems = [].concat(Array.prototype.slice.call(arguments)).map(function (item) {\n        var lineItem = {\n          image: item.variant.image,\n          variant_id: item.variant.id,\n          product_id: item.variant.productId,\n          title: item.variant.productTitle,\n          quantity: parseInt(item.quantity, 10),\n          properties: item.properties || {},\n          variant_title: item.variant.title,\n          price: item.variant.price,\n          compare_at_price: item.variant.compareAtPrice,\n          grams: item.variant.grams\n        };\n\n        (0, _setGuidFor2.default)(lineItem);\n\n        return lineItem;\n      });\n      var existingLineItems = this.attrs.line_items;\n\n      existingLineItems.push.apply(existingLineItems, _toConsumableArray(newLineItems));\n\n      var dedupedLineItems = existingLineItems.reduce(function (itemAcc, item) {\n        var matchingItem = itemAcc.filter(function (existingItem) {\n          return existingItem.variant_id === item.variant_id && objectsEqual(existingItem.properties, item.properties);\n        })[0];\n\n        if (matchingItem) {\n          matchingItem.quantity = matchingItem.quantity + item.quantity;\n        } else {\n          itemAcc.push(item);\n        }\n\n        return itemAcc;\n      }, []);\n\n      // Users may pass negative numbers and remove items. This ensures there's no\n      // item with a quantity of zero or less.\n      this.attrs.line_items = dedupedLineItems.reduce(function (itemAcc, item) {\n        if (item.quantity >= 1) {\n          itemAcc.push(item);\n        }\n\n        return itemAcc;\n      }, []);\n\n      return this.updateModel();\n    },\n    updateLineItem: function updateLineItem(id, quantity) {\n      if (quantity < 1) {\n        return this.removeLineItem(id);\n      }\n\n      var lineItem = this.lineItems.filter(function (item) {\n        return item.id === id;\n      })[0];\n\n      if (lineItem) {\n        lineItem.quantity = quantity;\n\n        return this.updateModel();\n      }\n\n      return new Promise(function (resolve, reject) {\n        reject(new Error('line item with id: ' + id + ' not found in cart#' + this.id));\n      });\n    },\n    removeLineItem: function removeLineItem(id) {\n      var oldLength = this.lineItems.length;\n      var newLineItems = this.lineItems.filter(function (item) {\n        return item.id !== id;\n      });\n      var newLength = newLineItems.length;\n\n      if (newLength < oldLength) {\n        this.attrs.line_items = newLineItems.map(function (item) {\n          return item.attrs;\n        });\n\n        return this.updateModel();\n      }\n\n      return new Promise(function (resolve, reject) {\n        reject(new Error('line item with id: ' + id + ' not found in cart#' + this.id));\n      });\n    },\n    clearLineItems: function clearLineItems() {\n      this.attrs.line_items = [];\n\n      return this.updateModel();\n    },\n    updateModel: function updateModel() {\n      var _this = this;\n\n      return this.shopClient.update('carts', this).then(function (updateCart) {\n        (0, _assign2.default)(_this.attrs, updateCart.attrs);\n\n        return _this;\n      });\n    }\n  });\n\n  exports.default = CartModel;\n});","define('shopify-buy/models/product-model', ['exports', './base-model', './product-option-model', './product-variant-model', '../metal/uniq'], function (exports, _baseModel, _productOptionModel, _productVariantModel, _uniq) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.NO_IMAGE_URI = undefined;\n\n  var _baseModel2 = _interopRequireDefault(_baseModel);\n\n  var _productOptionModel2 = _interopRequireDefault(_productOptionModel);\n\n  var _productVariantModel2 = _interopRequireDefault(_productVariantModel);\n\n  var _uniq2 = _interopRequireDefault(_uniq);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var NO_IMAGE_URI = 'https://widgets.shopifyapps.com/assets/no-image.svg';\n\n  /**\n     * Class for products returned by fetch('product')\n     * @class ProductModel\n     * @constructor\n   */\n  var ProductModel = _baseModel2.default.extend({\n    constructor: function constructor() {\n      this.super.apply(this, arguments);\n    },\n\n\n    /**\n      * Product unique ID\n      * @property id\n      * @type {String}\n    */\n    get id() {\n      return this.attrs.product_id;\n    },\n\n    /**\n      * Product title\n      * @property title\n      * @type {String}\n    */\n    get title() {\n      return this.attrs.title;\n    },\n\n    /**\n      * Product description. The exposes the `body_html` property on the listings API\n      * @property description\n      * @type {String}\n    */\n    get description() {\n      return this.attrs.body_html;\n    },\n\n    /**\n      * All images associated with product.\n      * @property images\n      * @type {Array} array of image objects.\n    */\n    get images() {\n      return this.attrs.images;\n    },\n\n    get memoized() {\n      this._memoized = this._memoized || {};\n\n      return this._memoized;\n    },\n\n    /**\n       *  Get array of options with nested values. Useful for creating UI for selecting options.\n       *\n       * ```javascript\n       *  var elements = product.options.map(function(option) {\n       *    return '<select name=\"' + option.name + '\">' + option.values.map(function(value) {\n       *      return '<option value=\"' + value + '\">' + value + '</option>';\n       *    }) + '</select>';\n       *  });\n       * ```\n       *\n       * @attribute options\n       * @type {Array|Option}\n     */\n    get options() {\n      if (this.memoized.options) {\n        return this.memoized.options;\n      }\n\n      var baseOptions = this.attrs.options;\n      var variants = this.variants;\n\n      this.memoized.options = baseOptions.map(function (option) {\n        var name = option.name;\n\n        var dupedValues = variants.reduce(function (valueList, variant) {\n          var optionValueForOption = variant.optionValues.filter(function (optionValue) {\n            return optionValue.name === option.name;\n          })[0];\n\n          valueList.push(optionValueForOption.value);\n\n          return valueList;\n        }, []);\n\n        var values = (0, _uniq2.default)(dupedValues);\n\n        return new _productOptionModel2.default({ name: name, values: values });\n      });\n\n      return this.memoized.options;\n    },\n\n    /**\n      * All variants of a product.\n      * @property variants\n      * @type {Array|ProductVariantModel} array of ProductVariantModel instances.\n    */\n    get variants() {\n      var _this = this;\n\n      return this.attrs.variants.map(function (variant) {\n        return new _productVariantModel2.default({ variant: variant, product: _this }, { config: _this.config });\n      });\n    },\n\n    /**\n      * Retrieve currently selected option values.\n      * @attribute selections\n      * @type {Option}\n    */\n    get selections() {\n      return this.options.map(function (option) {\n        return option.selected;\n      });\n    },\n\n    /**\n      * Retrieve variant for currently selected options\n      * @attribute selectedVariant\n      * @type {Object}\n    */\n    get selectedVariant() {\n      var variantTitle = this.selections.join(' / ');\n\n      return this.variants.filter(function (variant) {\n        return variant.title === variantTitle;\n      })[0] || null;\n    },\n\n    /**\n      * Retrieve image for currently selected variantImage\n      * @attribute selectedVariantImage\n      * @type {Object}\n    */\n    get selectedVariantImage() {\n      if (!this.selectedVariant) {\n        return null;\n      }\n\n      return this.selectedVariant.image;\n    }\n  });\n\n  exports.default = ProductModel;\n  exports.NO_IMAGE_URI = NO_IMAGE_URI;\n});","define('shopify-buy/models/product-option-model', ['exports', './base-model', '../metal/includes'], function (exports, _baseModel, _includes) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _baseModel2 = _interopRequireDefault(_baseModel);\n\n  var _includes2 = _interopRequireDefault(_includes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /**\n    * Class for product option\n    * @class Option\n    * @constructor\n  */\n  var ProductOptionModel = _baseModel2.default.extend({\n    constructor: function constructor() {\n      this.super.apply(this, arguments);\n\n      this.selected = this.values[0];\n    },\n\n\n    /**\n      * name of option (ex. \"Size\", \"Color\")\n      * @property name\n      * @type String\n    */\n    get name() {\n      return this.attrs.name;\n    },\n\n    /**\n      * possible values for selection\n      * @property values\n      * @type Array\n    */\n    get values() {\n      return this.attrs.values;\n    },\n\n    /**\n      * get/set selected option value (ex. \"Large\"). Setting this will update the\n      * selected value on the model. Throws {Error} if setting selected to value that does not exist for option\n      * @property selected\n      * @type String\n    */\n    get selected() {\n      return this._selected;\n    },\n\n    set selected(value) {\n      if ((0, _includes2.default)(this.values, value)) {\n        this._selected = value;\n      } else {\n        throw new Error('Invalid option selection for ' + this.name + '.');\n      }\n\n      return value;\n    }\n  });\n\n  exports.default = ProductOptionModel;\n});","define('shopify-buy/models/product-variant-model', ['exports', './base-model'], function (exports, _baseModel) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _baseModel2 = _interopRequireDefault(_baseModel);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /**\n    * Model for product variant\n    * @class ProductVariantModel\n    * @constructor\n  */\n  var ProductVariantModel = _baseModel2.default.extend({\n    constructor: function constructor() {\n      this.super.apply(this, arguments);\n    },\n\n\n    /**\n      * Variant unique ID\n      * @property id\n      * @type {String}\n    */\n    get id() {\n      return this.attrs.variant.id;\n    },\n\n    /**\n      * ID of product variant belongs to\n      * @property productId\n      * @type {String}\n    */\n    get productId() {\n      return this.attrs.product.id;\n    },\n\n    /**\n      * Title of variant\n      * @property title\n      * @type {String}\n    */\n    get title() {\n      return this.attrs.variant.title;\n    },\n\n    /**\n      * Title of product variant belongs to\n      * @property productTitle\n      * @type {String}\n    */\n    get productTitle() {\n      return this.attrs.product.title;\n    },\n\n    /**\n      * <a href=\"https://docs.shopify.com/manual/products/promoting-marketing/sales\">\n      * Compare at</a> price for variant formatted as currency.\n      * @property compareAtPrice\n      * @type {String}\n    */\n    get compareAtPrice() {\n      return this.attrs.variant.compare_at_price;\n    },\n\n    /**\n      * Price of variant, formatted as currency\n      * @property price\n      * @type {String}\n    */\n    get price() {\n      return this.attrs.variant.price;\n    },\n\n    /**\n      * Variant weight in grams\n      * @property grams\n      * @type {Number}\n    */\n    get grams() {\n      return this.attrs.variant.grams;\n    },\n\n    /**\n      * Option values associated with this variant, ex {name: \"color\", value: \"Blue\"}\n      * @property optionValues\n      * @type {Array|Object}\n    */\n    get optionValues() {\n      return this.attrs.variant.option_values;\n    },\n\n    /**\n      * Variant in stock (always true if inventory tracking is disabled)\n      * @property available\n      * @type {Boolean}\n    */\n    get available() {\n      return this.attrs.variant.available;\n    },\n\n    /**\n      * Image for variant\n      * @property image\n      * @type {Object}\n    */\n    get image() {\n      var id = this.id;\n      var images = this.attrs.product.images;\n\n      var primaryImage = images[0];\n      var variantImage = images.filter(function (image) {\n        return image.variant_ids.indexOf(id) !== -1;\n      })[0];\n\n      return variantImage || primaryImage;\n    },\n\n    /**\n      * Image variants available for a variant, ex [ {\"name\":\"pico\",\"dimension\":\"16x16\",\"src\":\"https://cdn.shopify.com/image-two_pico.jpg\"} ]\n      * See <a href=\"https://help.shopify.com/themes/liquid/filters/url-filters#size-parameters\"> for list of available variants.</a>\n      * @property imageVariant\n      * @type {Array}\n    */\n    get imageVariants() {\n      var image = this.image;\n\n      if (!image) {\n        return [];\n      }\n\n      var src = this.image.src;\n      var extensionIndex = src.lastIndexOf('.');\n      var pathAndBasename = src.slice(0, extensionIndex);\n      var extension = src.slice(extensionIndex);\n      var variants = [{ name: 'pico', dimension: '16x16' }, { name: 'icon', dimension: '32x32' }, { name: 'thumb', dimension: '50x50' }, { name: 'small', dimension: '100x100' }, { name: 'compact', dimension: '160x160' }, { name: 'medium', dimension: '240x240' }, { name: 'large', dimension: '480x480' }, { name: 'grande', dimension: '600x600' }, { name: '1024x1024', dimension: '1024x1024' }, { name: '2048x2048', dimension: '2048x2048' }];\n\n      variants.forEach(function (variant) {\n        variant.src = pathAndBasename + '_' + variant.name + extension;\n      });\n\n      return variants;\n    },\n\n    checkoutUrl: function checkoutUrl() {\n      var quantity = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n      var config = this.config;\n      var baseUrl = 'https://' + config.domain + '/cart';\n\n      var variantPath = this.id + ':' + parseInt(quantity, 10);\n\n      var query = 'api_key=' + config.apiKey;\n\n      return baseUrl + '/' + variantPath + '?' + query;\n    }\n  });\n\n  exports.default = ProductVariantModel;\n});","define('shopify-buy/models/reference-model', ['exports', './base-model', '../metal/set-guid-for'], function (exports, _baseModel, _setGuidFor) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _baseModel2 = _interopRequireDefault(_baseModel);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var ReferenceModel = _baseModel2.default.extend({\n    constructor: function constructor(attrs) {\n      if (Object.keys(attrs).indexOf('referenceId') < 0) {\n        throw new Error('Missing key referenceId of reference. References to null are not allowed');\n      }\n\n      this.super.apply(this, arguments);\n    },\n\n\n    /**\n      * get the ID for current reference (not what it refers to, but its own unique identifier)\n      * @property id\n      * @type {String}\n    */\n    get id() {\n      return this.attrs[_setGuidFor.GUID_KEY];\n    },\n\n    get referenceId() {\n      return this.attrs.referenceId;\n    },\n    set referenceId(value) {\n      this.attrs.referenceId = value;\n\n      return value;\n    }\n\n  });\n\n  exports.default = ReferenceModel;\n});","define('shopify-buy/serializers/cart-serializer', ['exports', '../metal/core-object', '../metal/assign', '../models/cart-model'], function (exports, _coreObject, _assign, _cartModel) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _assign2 = _interopRequireDefault(_assign);\n\n  var _cartModel2 = _interopRequireDefault(_cartModel);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var CartSerializer = _coreObject2.default.extend({\n    constructor: function constructor(config) {\n      this.config = config;\n    },\n    rootKeyForType: function rootKeyForType(type) {\n      return type.slice(0, -1);\n    },\n    modelForType: function modelForType() /* type */{\n      return _cartModel2.default;\n    },\n    deserializeSingle: function deserializeSingle(type) {\n      var singlePayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var modelAttrs = singlePayload[this.rootKeyForType(type)];\n      var model = this.modelFromAttrs(type, modelAttrs, metaAttrs);\n\n      return model;\n    },\n    modelFromAttrs: function modelFromAttrs(type, attrs, metaAttrs) {\n      var Model = this.modelForType(type);\n\n      metaAttrs.config = this.config;\n\n      return new Model(attrs, metaAttrs);\n    },\n    serialize: function serialize(type, model) {\n      var root = this.rootKeyForType(type);\n      var payload = {};\n      var attrs = (0, _assign2.default)({}, model.attrs);\n\n      payload[root] = attrs;\n\n      delete attrs.attributes;\n\n      Object.keys(attrs).forEach(function (key) {\n        var value = attrs[key];\n\n        if (value === null || typeof value === 'string' && value.length === 0) {\n          delete attrs[key];\n        }\n      });\n\n      return payload;\n    }\n  });\n\n  exports.default = CartSerializer;\n});","define('shopify-buy/serializers/listings-serializer', ['exports', '../metal/core-object', '../models/base-model', '../models/product-model'], function (exports, _coreObject, _baseModel, _productModel) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _baseModel2 = _interopRequireDefault(_baseModel);\n\n  var _productModel2 = _interopRequireDefault(_productModel);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var ListingsSerializer = _coreObject2.default.extend({\n    constructor: function constructor(config) {\n      this.config = config;\n    },\n    rootKeyForType: function rootKeyForType(type) {\n      return type.slice(0, -1) + '_listing';\n    },\n\n\n    models: {\n      collections: _baseModel2.default,\n      products: _productModel2.default\n    },\n\n    modelForType: function modelForType(type) {\n      return this.models[type];\n    },\n    deserializeSingle: function deserializeSingle(type) {\n      var singlePayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var modelAttrs = singlePayload[this.rootKeyForType(type)];\n      var model = this.modelFromAttrs(type, modelAttrs, metaAttrs);\n\n      return model;\n    },\n    deserializeMultiple: function deserializeMultiple(type) {\n      var _this = this;\n\n      var collectionPayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var models = collectionPayload[this.rootKeyForType(type) + 's'];\n\n      return models.map(function (attrs) {\n        var model = _this.modelFromAttrs(type, attrs, metaAttrs);\n\n        return model;\n      });\n    },\n    modelFromAttrs: function modelFromAttrs(type, attrs, metaAttrs) {\n      var Model = this.modelForType(type);\n\n      metaAttrs.config = this.config;\n\n      return new Model(attrs, metaAttrs);\n    }\n  });\n\n  exports.default = ListingsSerializer;\n});","define('shopify-buy/serializers/reference-serializer', ['exports', '../metal/core-object', '../metal/assign', '../models/reference-model'], function (exports, _coreObject, _assign, _referenceModel) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _assign2 = _interopRequireDefault(_assign);\n\n  var _referenceModel2 = _interopRequireDefault(_referenceModel);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var ReferenceSerializer = _coreObject2.default.extend({\n    constructor: function constructor(config) {\n      this.config = config;\n    },\n    modelForType: function modelForType() /* type */{\n      return _referenceModel2.default;\n    },\n    deserializeSingle: function deserializeSingle(type) {\n      var singlePayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n      var Model = this.modelForType(type);\n\n      return new Model(singlePayload, metaAttrs);\n    },\n    serialize: function serialize(type, model) {\n      var attrs = (0, _assign2.default)({}, model.attrs);\n\n      return attrs;\n    }\n  });\n\n  exports.default = ReferenceSerializer;\n});","define('shopify-buy/shop-client', ['exports', './serializers/listings-serializer', './adapters/listings-adapter', './serializers/cart-serializer', './serializers/reference-serializer', './adapters/local-storage-adapter', './metal/core-object', './metal/assign', './metal/set-guid-for'], function (exports, _listingsSerializer, _listingsAdapter, _cartSerializer, _referenceSerializer, _localStorageAdapter, _coreObject, _assign, _setGuidFor) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _listingsSerializer2 = _interopRequireDefault(_listingsSerializer);\n\n  var _listingsAdapter2 = _interopRequireDefault(_listingsAdapter);\n\n  var _cartSerializer2 = _interopRequireDefault(_cartSerializer);\n\n  var _referenceSerializer2 = _interopRequireDefault(_referenceSerializer);\n\n  var _localStorageAdapter2 = _interopRequireDefault(_localStorageAdapter);\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  var _assign2 = _interopRequireDefault(_assign);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /**\n   * @module shopify-buy\n   * @submodule shop-client\n   */\n\n  function fetchFactory(fetchType, type) {\n    var func = void 0;\n\n    switch (fetchType) {\n      case 'all':\n        func = function func() {\n          return this.fetchAll(type);\n        };\n        break;\n      case 'one':\n        func = function func() {\n          return this.fetch.apply(this, [type].concat(Array.prototype.slice.call(arguments)));\n        };\n        break;\n      case 'query':\n        func = function func() {\n          return this.fetchQuery.apply(this, [type].concat(Array.prototype.slice.call(arguments)));\n        };\n        break;\n    }\n\n    return func;\n  }\n\n  var ShopClient = _coreObject2.default.extend({\n    constructor: function constructor(config) {\n      this.config = config;\n\n      this.serializers = {\n        products: _listingsSerializer2.default,\n        collections: _listingsSerializer2.default,\n        carts: _cartSerializer2.default,\n        references: _referenceSerializer2.default\n      };\n\n      this.adapters = {\n        products: _listingsAdapter2.default,\n        collections: _listingsAdapter2.default,\n        carts: _localStorageAdapter2.default,\n        references: _localStorageAdapter2.default\n      };\n    },\n\n\n    config: null,\n\n    /**\n     * @attribute\n     * @default {\n     *  products: ListingsAdapter,\n     *  collections: ListingsAdapter,\n     *  carts: CartAdapter\n     * }\n     * @type Object\n     * @protected\n     */\n    // Prevent leaky state\n    get serializers() {\n      return (0, _assign2.default)({}, this.shadowedSerializers);\n    },\n\n    set serializers(values) {\n      this.shadowedSerializers = (0, _assign2.default)({}, values);\n    },\n\n    get adapters() {\n      return (0, _assign2.default)({}, this.shadowedAdapters);\n    },\n\n    set adapters(values) {\n      this.shadowedAdapters = (0, _assign2.default)({}, values);\n    },\n\n    fetchAll: function fetchAll(type) {\n      var _this = this;\n\n      var adapter = new this.adapters[type](this.config);\n\n      return adapter.fetchMultiple(type).then(function (payload) {\n        return _this.deserialize(type, payload, adapter, null, { multiple: true });\n      });\n    },\n    fetch: function fetch(type, id) {\n      var _this2 = this;\n\n      var adapter = new this.adapters[type](this.config);\n\n      return adapter.fetchSingle(type, id).then(function (payload) {\n        return _this2.deserialize(type, payload, adapter, null, { single: true });\n      });\n    },\n    fetchQuery: function fetchQuery(type, query) {\n      var _this3 = this;\n\n      var adapter = new this.adapters[type](this.config);\n\n      return adapter.fetchMultiple(type, query).then(function (payload) {\n        return _this3.deserialize(type, payload, adapter, null, { multiple: true });\n      });\n    },\n    create: function create(type) {\n      var _this4 = this;\n\n      var modelAttrs = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n      var adapter = new this.adapters[type](this.config);\n      var serializer = new this.serializers[type](this.config);\n      var Model = serializer.modelForType(type);\n      var model = new Model(modelAttrs, { shopClient: this });\n      var attrs = serializer.serialize(type, model);\n\n      return adapter.create(type, attrs).then(function (payload) {\n        return _this4.deserialize(type, payload, adapter, serializer, { single: true });\n      });\n    },\n    update: function update(type, updatedModel) {\n      var _this5 = this;\n\n      var adapter = updatedModel.adapter;\n      var serializer = updatedModel.serializer;\n      var serializedModel = serializer.serialize(type, updatedModel);\n      var id = updatedModel.attrs[adapter.idKeyForType(type)];\n\n      return adapter.update(type, id, serializedModel).then(function (payload) {\n        return _this5.deserialize(type, payload, adapter, serializer, { single: true });\n      });\n    },\n    deserialize: function deserialize(type, payload, adapter, existingSerializer) {\n      var opts = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n\n      var serializer = existingSerializer || new this.serializers[type](this.config);\n      var meta = { shopClient: this, adapter: adapter, serializer: serializer, type: type };\n      var serializedPayload = void 0;\n\n      if (opts.multiple) {\n        serializedPayload = serializer.deserializeMultiple(type, payload, meta);\n      } else {\n        serializedPayload = serializer.deserializeSingle(type, payload, meta);\n      }\n\n      return serializedPayload;\n    },\n    createCart: function createCart() {\n      var userAttrs = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var baseAttrs = {\n        line_items: []\n      };\n      var attrs = {};\n\n      (0, _assign2.default)(attrs, baseAttrs);\n      (0, _assign2.default)(attrs, userAttrs);\n\n      return this.create('carts', attrs);\n    },\n    updateCart: function updateCart(updatedCart) {\n      return this.update('carts', updatedCart);\n    },\n\n\n    /**\n     * Retrieve a previously created cart by its key.\n     *\n     * ```javascript\n     * client.fetchCart('shopify-buy.1459804699118.2').then(cart => {\n     *   console.log(cart); // The retrieved cart\n     * });\n     *\n     * @method fetchCart\n     * @public\n     * @param {String} id The cart's unique identifier\n     * @return {Promise|CartModel} The cart model.\n     *\n     */\n    fetchCart: fetchFactory('one', 'carts'),\n\n    /**\n     * Convenience wrapper for {{#crossLink \"ShopClient/fetchAll:method\"}}\n     * {{/crossLink}}. Equivalent to:\n     *\n     * ```javascript\n     * client.fetchAll('products');\n     * ```\n     *\n     * @method fetchAllProducts\n     * @private\n     * @return {Promise|Array} The product models.\n     */\n    fetchAllProducts: fetchFactory('all', 'products'),\n\n    /**\n     * Convenience wrapper for {{#crossLink \"ShopClient/fetchAll:method\"}}\n     * {{/crossLink}}. Equivalent to:\n     *\n     * ```javascript\n     * client.fetchAll('collections');\n     * ```\n     *\n     * @method fetchAllCollections\n     * @private\n     * @return {Promise|Array} The collection models.\n     */\n    fetchAllCollections: fetchFactory('all', 'collections'),\n\n    /**\n     * Fetch one product by its ID.\n     *\n     * ```javascript\n     * client.fetchProduct(123).then(product => {\n     *   console.log(product); // The product with an ID of 123\n     * });\n     * ```\n     *\n     * @method fetchProduct\n     * @public\n     * @param {String|Number} id a unique identifier\n     * @return {Promise|BaseModel} The product model with the specified ID.\n     */\n    fetchProduct: fetchFactory('one', 'products'),\n\n    /**\n     * Fetch one collection by its ID.\n     *\n     * ```javascript\n     * client.fetchCollection(123).then(collection => {\n     *   console.log(collection); // The collection with an ID of 123\n     * });\n     * ```\n     *\n     * @method fetchCollection\n     * @public\n     * @param {String|Number} id a unique identifier\n     * @return {Promise|BaseModel} The collection model with the specified ID.\n     */\n    fetchCollection: fetchFactory('one', 'collections'),\n\n    /**\n     * Fetches a list of products matching a specified query.\n     *\n     * ```javascript\n     * client.fetchQueryProducts({ collection_id: 123, tag: ['hats'] }).then(products => {\n     *   console.log(products); // An array of products in collection `123` having the tag `hats`\n     * });\n     * ```\n     * @method fetchQueryProducts\n     * @public\n     * @param {Object} query A query sent to the api server containing one or more of:\n     *   @param {String|Number} [query.collection_id] The ID of a collection to retrieve products from\n     *   @param {Array} [query.tag] A list of tags to filter the products by. Accepts up to 10 tags.\n     *   @param {Array} [query.product_ids] A list of product IDs to retrieve\n     *   @param {String|Number} [query.page=1] The page offset number of the current lookup (based on the `limit`)\n     *   @param {String|Number} [query.limit=50] The number of products to retrieve per page\n     *   @param {String} [query.handle] The handle of the product to look up\n     *   @param {String} [query.updated_at_min] Products updated since the supplied timestamp (format: 2008-12-31 03:00)\n     * @return {Promise|Array} The product models.\n     */\n    fetchQueryProducts: fetchFactory('query', 'products'),\n\n    /**\n     * Fetches a list of collections matching a specified query.\n     *\n     * ```javascript\n     * client.fetchQueryCollections({page: 2, limit: 20}).then(collections => {\n     *   console.log(collections); // An array of collection resources\n     * });\n     * ```\n     *\n     * @method fetchQueryCollections\n     * @public\n     * @param {Object} query a query sent to the api server.\n     *   @param {String|Number} [query.page=1] the page offset number of the current lookup (based on the `limit`)\n     *   @param {String|Number} [query.limit=50] the number of collections to retrieve per page\n     * @return {Promise|Array} The collection models.\n     */\n    fetchQueryCollections: fetchFactory('query', 'collections'),\n\n    fetchRecentCart: function fetchRecentCart() {\n      var _this6 = this;\n\n      return this.fetch('references', this.config.domain + '.recent-cart').then(function (reference) {\n        var cartId = reference.referenceId;\n\n        return _this6.fetchCart(cartId);\n      }).catch(function () {\n        return _this6.createCart().then(function (cart) {\n          var refAttrs = {\n            referenceId: cart.id\n          };\n\n          refAttrs[_setGuidFor.GUID_KEY] = _this6.config.domain + '.recent-cart';\n\n          _this6.create('references', refAttrs);\n\n          return cart;\n        });\n      });\n    }\n  });\n\n  exports.default = ShopClient;\n});","define('shopify-buy/shopify', ['exports', './config', './version', './shop-client', './models/product-model', './isomorphic-fetch', './isomorphic-btoa'], function (exports, _config, _version, _shopClient, _productModel) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _config2 = _interopRequireDefault(_config);\n\n  var _version2 = _interopRequireDefault(_version);\n\n  var _shopClient2 = _interopRequireDefault(_shopClient);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  /**\n   * @module shopify-buy\n   * @submodule shopify\n   */\n\n  /**\n   * This namespace contains all globally accessible classes\n   * @class ShopifyBuy\n   * @static\n   */\n  var Shopify = {\n    ShopClient: _shopClient2.default,\n    Config: _config2.default,\n    version: _version2.default,\n    NO_IMAGE_URI: _productModel.NO_IMAGE_URI,\n\n    buildClient: function buildClient() {\n      var configAttrs = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n      var config = new this.Config(configAttrs);\n\n      return new this.ShopClient(config);\n    }\n  };\n\n  exports.default = Shopify;\n});","define('shopify-buy/store', ['exports', './metal/global', './metal/core-object'], function (exports, _global, _coreObject) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var _global2 = _interopRequireDefault(_global);\n\n  var _coreObject2 = _interopRequireDefault(_coreObject);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var Store = _coreObject2.default.extend({\n    constructor: function constructor() {\n      this.localStorageAvailable = this.storageAvailable('localStorage');\n      this.cache = {};\n    },\n    setItem: function setItem(key, value) {\n      if (this.localStorageAvailable) {\n        localStorage.setItem(key, JSON.stringify(value));\n      } else {\n        this.cache[key] = value;\n      }\n\n      return value;\n    },\n    getItem: function getItem(key) {\n      if (this.localStorageAvailable) {\n        var stringValue = localStorage.getItem(key);\n\n        try {\n          return JSON.parse(stringValue);\n        } catch (e) {\n          return null;\n        }\n      } else {\n        return this.cache[key] || null;\n      }\n    },\n    storageAvailable: function storageAvailable(type) {\n      try {\n        var storage = _global2.default[type];\n        var x = '__storage_test__';\n\n        storage.setItem(x, x);\n        storage.removeItem(x);\n\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n  });\n\n  exports.default = Store;\n});","define('shopify-buy/version', ['exports'], function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var version = '{{versionString}}';\n\n  /**\n   * @module shopify-buy\n   * @submodule version\n   */\n\n  exports.default = version;\n});"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC5jDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"shopify-buy.polyfilled.amd.js"}