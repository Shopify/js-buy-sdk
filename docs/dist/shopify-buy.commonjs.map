{"version":3,"sources":["adapters/listings-adapter.js","adapters/local-storage-adapter.js","ajax.js","config.js","ie9-ajax.js","isomorphic-btoa.js","isomorphic-fetch.js","logger.js","metal/assign.js","metal/core-object.js","metal/create-class.js","metal/global.js","metal/includes.js","metal/is-node-like-environment.js","metal/set-guid-for.js","metal/uniq.js","models/base-model.js","models/cart-line-item-model.js","models/cart-model.js","models/product-model.js","models/product-option-model.js","models/product-variant-model.js","models/reference-model.js","serializers/cart-serializer.js","serializers/listings-serializer.js","serializers/reference-serializer.js","shop-client.js","shopify.js","store.js","version.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ajax = require('../ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _coreObject = require('../metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _version = require('../version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ListingsAdapter = _coreObject2.default.extend({\n  ajax: _ajax2.default,\n\n  constructor: function constructor(config) {\n    this.config = config;\n  },\n\n\n  get base64ApiKey() {\n    return btoa(this.config.apiKey);\n  },\n\n  get baseUrl() {\n    var _config = this.config;\n    var domain = _config.domain;\n    var appId = _config.appId;\n\n\n    return 'https://' + domain + '/api/apps/' + appId;\n  },\n\n  get headers() {\n    return {\n      Authorization: 'Basic ' + this.base64ApiKey,\n      'Content-Type': 'application/json',\n      'X-SDK-Variant': 'javascript',\n      'X-SDK-Version': _version2.default\n\n    };\n  },\n\n  pathForType: function pathForType(type) {\n    return '/' + type.slice(0, -1) + '_listings';\n  },\n  buildUrl: function buildUrl(singleOrMultiple, type, idOrQuery) {\n    switch (singleOrMultiple) {\n      case 'multiple':\n        return this.buildMultipleUrl(type, idOrQuery);\n      case 'single':\n        return this.buildSingleUrl(type, idOrQuery);\n      default:\n        return '';\n    }\n  },\n  buildMultipleUrl: function buildMultipleUrl(type) {\n    var query = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var url = '' + this.baseUrl + this.pathForType(type);\n    var paramNames = Object.keys(query);\n\n    if (paramNames.length > 0) {\n      var queryString = paramNames.map(function (key) {\n        var value = void 0;\n\n        if (Array.isArray(query[key])) {\n          value = query[key].join(',');\n        } else {\n          value = query[key];\n        }\n\n        return key + '=' + encodeURIComponent(value);\n      }).join('&');\n\n      return url + '?' + queryString;\n    }\n\n    return url;\n  },\n  buildSingleUrl: function buildSingleUrl(type, id) {\n    return '' + this.baseUrl + this.pathForType(type) + '/' + id;\n  },\n  fetchMultiple: function fetchMultiple() /* type, [query] */{\n    var url = this.buildUrl.apply(this, ['multiple'].concat(Array.prototype.slice.call(arguments)));\n\n    return this.ajax('GET', url, { headers: this.headers }).then(function (response) {\n      return response.json;\n    });\n  },\n  fetchSingle: function fetchSingle() /* type, id */{\n    var url = this.buildUrl.apply(this, ['single'].concat(Array.prototype.slice.call(arguments)));\n\n    return this.ajax('GET', url, { headers: this.headers }).then(function (response) {\n      return response.json;\n    });\n  }\n});\n\nexports.default = ListingsAdapter;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _coreObject = require('../metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _setGuidFor = require('../metal/set-guid-for');\n\nvar _setGuidFor2 = _interopRequireDefault(_setGuidFor);\n\nvar _store = require('../store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar LocalStorageAdapter = _coreObject2.default.extend({\n  constructor: function constructor() {\n    this.store = new _store2.default();\n  },\n  idKeyForType: function idKeyForType() /* type */{\n    return _setGuidFor.GUID_KEY;\n  },\n  fetchSingle: function fetchSingle(type, id) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var value = _this.store.getItem(_this.storageKey(type, id));\n\n      if (value === null) {\n        reject(new Error(type + '#' + id + ' not found'));\n\n        return;\n      }\n\n      resolve(value);\n    });\n  },\n  create: function create(type, payload) {\n    var _this2 = this;\n\n    return new Promise(function (resolve) {\n      var id = _this2.identify(payload);\n\n      _this2.store.setItem(_this2.storageKey(type, id), payload);\n      resolve(payload);\n    });\n  },\n  update: function update(type, id, payload) {\n    var _this3 = this;\n\n    return new Promise(function (resolve) {\n      _this3.store.setItem(_this3.storageKey(type, id), payload);\n      resolve(payload);\n    });\n  },\n  storageKey: function storageKey(type, id) {\n    return type + '.' + id;\n  },\n  identify: function identify(payload) {\n    var keys = Object.keys(payload);\n\n    if (keys.length === 1 && _typeof(payload[keys[0]]) === 'object') {\n      return (0, _setGuidFor2.default)(payload[keys[0]]);\n    }\n\n    return (0, _setGuidFor2.default)(payload);\n  }\n});\n\nexports.default = LocalStorageAdapter;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ajax;\n\nvar _ie9Ajax = require('./ie9-ajax');\n\nvar _ie9Ajax2 = _interopRequireDefault(_ie9Ajax);\n\nvar _global = require('./metal/global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  var error = new Error(response.statusText);\n\n  error.status = response.status;\n  error.response = response;\n  throw error;\n}\n\nfunction parseResponse(response) {\n  return response.json().then(function (json) {\n    return { json: json, originalResponse: response, isJSON: true };\n  }).catch(function () {\n    var responseClone = response.clone();\n\n    return responseClone.text().then(function (text) {\n      return { text: text, originalResponse: responseClone, isText: true };\n    });\n  });\n}\n\nfunction ajax(method, url) {\n  var opts = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n  if (_global2.default.XDomainRequest) {\n    return _ie9Ajax2.default.apply(undefined, arguments);\n  }\n\n  opts.method = method;\n  opts.mode = 'cors';\n\n  return fetch(url, opts).then(checkStatus).then(parseResponse);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _coreObject = require('./metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module shopify-buy\n * @submodule config\n */\n\nvar Config = _coreObject2.default.extend({\n  /**\n   * @class Config\n   * @constructor\n   * @param {Object} attrs An object of required config data.\n   * @param {String} attrs.apiKey Your api client's public token\n   * @param {String} attrs.appId The app whose listings the client will be\n   * using. If you are just modifying a buy button, the buy-button's app id is\n   * 6. Otherwise, obtain the app id of the app you're modifying or extending.\n   * @param {String} attrs.domain Your shop's full domain. (i.e. `craftedgoods.myshopify.com`)\n   */\n  constructor: function constructor(attrs) {\n    var _this = this;\n\n    Object.keys(this.deprecatedProperties).forEach(function (key) {\n      if (attrs.hasOwnProperty(key)) {\n        var transformName = _this.deprecatedProperties[key];\n        var transform = _this[transformName];\n\n        transform(attrs[key], attrs);\n      }\n    });\n    this.requiredProperties.forEach(function (key) {\n      if (!attrs.hasOwnProperty(key)) {\n        throw new Error('new Config() requires the option \\'' + key + '\\'');\n      } else {\n        _this[key] = attrs[key];\n      }\n    });\n  },\n\n\n  /**\n   * An object with keys for deprecated properties and values as functions that\n   * will transform the value into a usable value. A depracation transform should\n   * have the value signature function(deprecated_value, config_to_be_transformed)\n   * @attribute deprecatedProperties\n   * @default { myShopifyDomain: this.transformMyShopifyDomain }\n   * @type Object\n   * @private\n   */\n  deprecatedProperties: {\n    myShopifyDomain: 'transformMyShopifyDomain'\n  },\n\n  /**\n   * Transform the myShopifyDomain config to a domain config.\n   * @method transformMyShopifyDomain\n   * @static\n   * @private\n   * @param {String} subdomain The original subdomain on myshopify.com\n   * @param {Object} attrs. The config attributes to be transformed to a\n   * non-deprecated state.\n   * @return {Object} the transformed config attributes.\n   */\n  transformMyShopifyDomain: function transformMyShopifyDomain(subdomain, attrs) {\n    _logger2.default.warn('Config - ', 'myShopifyDomain is deprecated, please use domain and provide the full shop domain.');\n    attrs.domain = subdomain + '.myshopify.com';\n  },\n\n\n  /**\n   * Properties that must be set on initializations\n   * @attribute requiredProperties\n   * @default ['apiKey', 'appId', 'myShopifyDomain']\n   * @type Array\n   * @private\n   */\n  requiredProperties: ['apiKey', 'appId', 'domain'],\n\n  /**\n   * The apiKey for authenticating against shopify. This is your api client's\n   * public api token. Not the shared secret. Set during initialation.\n   * @attribute apiKey\n   * @default ''\n   * @type String\n   * @public\n   */\n  apiKey: '',\n\n  /**\n   * @attribute appId\n   * @default ''\n   * @type String\n   * @public\n   */\n  appId: '',\n\n  /**\n   * The domain that all the api requests will go to\n   * @attribute domain\n   * @default ''\n   * @type String\n   * @public\n   */\n  domain: '',\n\n  /**\n   * The subdomain of myshopify.io that all the api requests will go to\n   * @attribute myShopifyDomain\n   * @default ''\n   * @type String\n   * @public\n   * @deprecated Use `config.domain` instead.\n   */\n  myShopifyDomain: ''\n});\n\nexports.default = Config;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction authToUrl(url, opts) {\n  var authorization = void 0;\n\n  if (opts.headers) {\n    Object.keys(opts.headers).forEach(function (key) {\n      if (key.toLowerCase() === 'authorization') {\n        authorization = opts.headers[key];\n      }\n    });\n  }\n\n  if (authorization) {\n    var hashedKey = authorization.split(' ').slice(-1)[0];\n\n    try {\n      var plainKey = atob(hashedKey);\n\n      var newUrl = void 0;\n\n      if (url.indexOf('?') > -1) {\n        newUrl = url + '&_x_http_authorization=' + plainKey;\n      } else {\n        newUrl = url + '?_x_http_authorization=' + plainKey;\n      }\n\n      return newUrl;\n    } catch (e) {\n      // atob choked on non-encoded data. Therefore, not a form of auth we\n      // support.\n      //\n      // NOOP\n      //\n    }\n  }\n\n  /* eslint newline-before-return: 0 */\n  return url;\n}\n\nfunction ie9Ajax(method, url, opts) {\n  return new Promise(function (resolve, reject) {\n    var xdr = new XDomainRequest();\n\n    xdr.onload = function () {\n      try {\n        var json = JSON.parse(xdr.responseText);\n\n        resolve({ json: json, originalResponse: xdr, isJSON: true });\n      } catch (e) {\n        resolve({ text: xdr.responseText, originalResponse: xdr, isText: true });\n      }\n    };\n\n    function handleError() {\n      reject(new Error('There was an error with the XDR'));\n    }\n\n    xdr.onerror = handleError;\n    xdr.ontimeout = handleError;\n\n    xdr.open(method, authToUrl(url, opts));\n    xdr.send(opts.data);\n  });\n}\n\nexports.default = ie9Ajax;","'use strict';\n\nvar _global = require('./metal/global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nvar _isNodeLikeEnvironment = require('./metal/is-node-like-environment');\n\nvar _isNodeLikeEnvironment2 = _interopRequireDefault(_isNodeLikeEnvironment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global Buffer */\n\nvar btoa = _global2.default.btoa;\n\nif (!btoa && (0, _isNodeLikeEnvironment2.default)()) {\n  _global2.default.btoa = function (string) {\n    return new Buffer(string).toString('base64');\n  };\n}","'use strict';\n\nvar _global = require('./metal/global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nvar _isNodeLikeEnvironment = require('./metal/is-node-like-environment');\n\nvar _isNodeLikeEnvironment2 = _interopRequireDefault(_isNodeLikeEnvironment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* globals require */\n\nvar fetch = _global2.default.fetch;\n\nif (!fetch && (0, _isNodeLikeEnvironment2.default)()) {\n  /* this indirection is needed because babel throws errors when\n   * transpiling require('node-fetch') using `amd` plugin with babel6\n   */\n  var localRequire = require;\n\n  _global2.default.fetch = localRequire('node-fetch');\n  _global2.default.Response = _global2.default.fetch.Response;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.wrapConsole = undefined;\n\nvar _coreObject = require('./metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction wrapConsole(logCommand) {\n  var logMethod = function logMethod() {\n    /* eslint-disable no-console */\n    if (console[logCommand]) {\n      var _console;\n\n      (_console = console)[logCommand].apply(_console, arguments);\n    } else {\n      var _console2;\n\n      (_console2 = console).log.apply(_console2, arguments);\n    }\n    /* eslint-enable no-console */\n  };\n\n  return function () {\n    var args = [].concat(Array.prototype.slice.call(arguments));\n\n    args.unshift('[JS-BUY-SDK]: ');\n    logMethod.apply(undefined, _toConsumableArray(args));\n  };\n}\n\nvar Logger = _coreObject2.default.extend({\n  /**\n   * Wrapper around the console log so in the future we can have better dev output.\n   * Also allows us to disable output in production.\n   * @class Logger\n   * @constructor\n   */\n  constructor: function constructor() {},\n\n  debug: wrapConsole('debug'),\n  info: wrapConsole('info'),\n  warn: wrapConsole('warn'),\n  error: wrapConsole('error')\n});\n\nexports.wrapConsole = wrapConsole;\nexports.default = new Logger();","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint no-undefined: 0 */\n\nvar assign = void 0;\n\nif (typeof Object.assign === 'function') {\n  assign = Object.assign;\n} else {\n  assign = function assign(target) {\n    if (target === undefined || target === null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var output = Object(target);\n\n    var propertyObjects = [].slice.call(arguments, 1);\n\n    if (propertyObjects.length > 0) {\n      propertyObjects.forEach(function (source) {\n        if (source !== undefined && source !== null) {\n          var nextKey = void 0;\n\n          for (nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      });\n    }\n\n    return output;\n  };\n}\n\nexports.default = assign;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = require('./create-class');\n\nvar _createClass2 = _interopRequireDefault(_createClass);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CoreObject = (0, _createClass2.default)({\n  constructor: function constructor() {},\n\n\n  static: {\n    extend: function extend(subClassProps) {\n      return (0, _createClass2.default)(subClassProps, this);\n    }\n  }\n});\n\nexports.default = CoreObject;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _assign = require('./assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _includes = require('./includes');\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction wrap(func, superFunc) {\n  function superWrapper() {\n    var originalSuper = this.super;\n\n    this.super = function () {\n      return superFunc.apply(this, arguments);\n    };\n\n    var ret = func.apply(this, arguments);\n\n    this.super = originalSuper;\n\n    return ret;\n  }\n\n  superWrapper.wrappedFunction = func;\n\n  return superWrapper;\n}\n\nfunction defineProperties(names, proto, destination) {\n  var parentProto = Object.getPrototypeOf(destination);\n\n  names.forEach(function (name) {\n    var descriptor = Object.getOwnPropertyDescriptor(proto, name);\n    var parentDescriptor = parentProto.hasOwnProperty(name) && Object.getOwnPropertyDescriptor(parentProto, name);\n\n    if (typeof parentDescriptor.value === 'function' && typeof descriptor.value === 'function') {\n      var wrappedFunction = wrap(descriptor.value, parentDescriptor.value);\n\n      Object.defineProperty(destination, name, { value: wrappedFunction });\n    } else {\n      Object.defineProperty(destination, name, descriptor);\n    }\n  });\n}\n\nfunction createClass(props) {\n  var parent = arguments.length <= 1 || arguments[1] === undefined ? Object : arguments[1];\n\n  var Constructor = wrap(props.constructor, parent);\n  var instancePropertyNames = Object.getOwnPropertyNames(props).filter(function (key) {\n    return !(0, _includes2.default)(['constructor', 'static'], key);\n  });\n\n  (0, _assign2.default)(Constructor, parent);\n\n  Constructor.prototype = Object.create(parent.prototype);\n  defineProperties(instancePropertyNames, props, Constructor.prototype);\n  Constructor.prototype.constructor = Constructor;\n\n  var staticProps = props.static;\n\n  if (staticProps) {\n    var staticPropertyNames = Object.getOwnPropertyNames(staticProps);\n\n    defineProperties(staticPropertyNames, staticProps, Constructor);\n  }\n\n  return Constructor;\n}\n\nexports.default = createClass;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* global global */\n\nvar globalNamespace = void 0;\n\nif (typeof global === 'undefined') {\n  globalNamespace = window;\n} else {\n  globalNamespace = global;\n}\n\nexports.default = globalNamespace;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar includes = void 0;\n\nif (!Array.prototype.includes) {\n  includes = function includes(array, searchElement) {\n    var ObjectifiedArray = Object(array);\n    var length = parseInt(ObjectifiedArray.length, 10) || 0;\n\n    if (length === 0) {\n      return false;\n    }\n\n    var startIndex = parseInt(arguments[1], 10) || 0;\n    var index = void 0;\n\n    if (startIndex >= 0) {\n      index = startIndex;\n    } else {\n      index = length + startIndex;\n\n      if (index < 0) {\n        index = 0;\n      }\n    }\n\n    while (index < length) {\n      var currentElement = ObjectifiedArray[index];\n\n      /* eslint no-self-compare:0 */\n      if (searchElement === currentElement || searchElement !== searchElement && currentElement !== currentElement) {\n        // NaN !== NaN\n        return true;\n      }\n      index++;\n    }\n\n    return false;\n  };\n} else {\n  includes = function includes(array) {\n    var args = [].slice.call(arguments, 1);\n\n    return Array.prototype.includes.apply(array, args);\n  };\n}\n\nexports.default = includes;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNodeLikeEnvironment;\nfunction isNodeLikeEnvironment() {\n  var windowAbsent = typeof window === 'undefined';\n  var requirePresent = typeof require === 'function';\n\n  return windowAbsent && requirePresent;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/* eslint no-undefined: 0 complexity: 0 */\n\nvar GUID_KEY = 'shopify-buy-uuid';\n\nvar GUID_PREFIX = 'shopify-buy.' + Date.now();\n\nvar GUID_DESC = {\n  writable: true,\n  configurable: true,\n  enumerable: true,\n  value: null\n};\n\nvar uuidSeed = 0;\n\nfunction uuid() {\n  return ++uuidSeed;\n}\n\nvar numberCache = {};\nvar stringCache = {};\n\nfunction setGuidFor(obj) {\n  if (obj && obj[GUID_KEY]) {\n    return obj[GUID_KEY];\n  }\n\n  if (obj === undefined) {\n    return '(undefined)';\n  }\n\n  if (obj === null) {\n    return '(null)';\n  }\n\n  var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n  var id = void 0;\n\n  switch (type) {\n    case 'number':\n      id = numberCache[obj];\n\n      if (!id) {\n        id = numberCache[obj] = 'nu' + obj;\n      }\n\n      break;\n\n    case 'string':\n      id = stringCache[obj];\n\n      if (!id) {\n        id = stringCache[obj] = 'st' + uuid();\n      }\n\n      break;\n\n    case 'boolean':\n      if (obj) {\n        id = '(true)';\n      } else {\n        id = '(false)';\n      }\n\n      break;\n\n    default:\n      if (obj === Object) {\n        id = '(Object)';\n        break;\n      }\n\n      if (obj === Array) {\n        id = '(Array)';\n        break;\n      }\n\n      id = GUID_PREFIX + '.' + uuid();\n\n      if (obj[GUID_KEY] === null) {\n        obj[GUID_KEY] = id;\n      } else {\n        GUID_DESC.value = id;\n        Object.defineProperty(obj, GUID_KEY, GUID_DESC);\n      }\n  }\n\n  return id;\n}\n\nexports.default = setGuidFor;\nexports.GUID_KEY = GUID_KEY;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (array) {\n  return array.reduce(function (uniqueArray, item) {\n    if (uniqueArray.indexOf(item) < 0) {\n      uniqueArray.push(item);\n    }\n\n    return uniqueArray;\n  }, []);\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _coreObject = require('../metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _assign = require('../metal/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BaseModel = _coreObject2.default.extend({\n  constructor: function constructor() {\n    var attrs = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var metaAttrs = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    this.attrs = attrs;\n\n    (0, _assign2.default)(this, metaAttrs);\n  },\n\n  attrs: null,\n  serializer: null,\n  adapter: null,\n  shopClient: null\n});\n\nexports.default = BaseModel;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _baseModel = require('./base-model');\n\nvar _baseModel2 = _interopRequireDefault(_baseModel);\n\nvar _setGuidFor = require('../metal/set-guid-for');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CartLineItem = _baseModel2.default.extend({\n  constructor: function constructor() {\n    this.super.apply(this, arguments);\n  },\n\n\n  get id() {\n    return this.attrs[_setGuidFor.GUID_KEY];\n  },\n\n  get variant_id() {\n    return this.attrs.variant_id;\n  },\n\n  get product_id() {\n    return this.attrs.product_id;\n  },\n\n  get image() {\n    return this.attrs.image;\n  },\n\n  get title() {\n    return this.attrs.title;\n  },\n\n  get quantity() {\n    return this.attrs.quantity;\n  },\n\n  set quantity(value) {\n    var parsedValue = parseInt(value, 10);\n\n    if (parsedValue < 0) {\n      throw new Error('Quantities must be positive');\n    } else if (parsedValue !== parseFloat(value)) {\n      /* incidentally, this covers all NaN values, because NaN !== Nan */\n      throw new Error('Quantities must be whole numbers');\n    }\n\n    this.attrs.quantity = parsedValue;\n\n    return this.attrs.quantity;\n  },\n\n  get properties() {\n    return this.attrs.properties || {};\n  },\n\n  set properties(value) {\n    this.attrs.properties = value || {};\n\n    return value;\n  },\n\n  get variant_title() {\n    return this.attrs.variant_title;\n  },\n\n  get price() {\n    return this.attrs.price;\n  },\n\n  get compare_at_price() {\n    return this.attrs.compare_at_price;\n  },\n\n  get line_price() {\n    return (this.quantity * parseFloat(this.price)).toFixed(2);\n  },\n\n  get grams() {\n    return this.attrs.grams;\n  }\n});\n\nexports.default = CartLineItem;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _baseModel = require('./base-model');\n\nvar _baseModel2 = _interopRequireDefault(_baseModel);\n\nvar _cartLineItemModel = require('./cart-line-item-model');\n\nvar _cartLineItemModel2 = _interopRequireDefault(_cartLineItemModel);\n\nvar _assign = require('../metal/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _setGuidFor = require('../metal/set-guid-for');\n\nvar _setGuidFor2 = _interopRequireDefault(_setGuidFor);\n\nvar _global = require('../metal/global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction objectsEqual(one, two) {\n  if (one === two) {\n    return true;\n  }\n\n  return Object.keys(one).every(function (key) {\n    if (one[key] instanceof Date) {\n      return one[key].toString() === two[key].toString();\n    } else if (_typeof(one[key]) === 'object') {\n      return objectsEqual(one[key], two[key]);\n    }\n\n    return one[key] === two[key];\n  });\n}\n\nvar CartModel = _baseModel2.default.extend({\n\n  /**\n    * Class for cart model\n    * @class CartModel\n    * @constructor\n  */\n  constructor: function constructor() {\n    this.super.apply(this, arguments);\n  },\n\n\n  /**\n    * get ID for current cart\n    * @property id\n    * @type {String}\n  */\n  get id() {\n    return this.attrs[_setGuidFor.GUID_KEY];\n  },\n\n  /**\n    * Get current line items for cart\n    * @property lineItems\n    * @type {Array}\n  */\n  get lineItems() {\n    return (this.attrs.line_items || []).map(function (item) {\n      return new _cartLineItemModel2.default(item);\n    });\n  },\n\n  /**\n    * Gets the sum quantity of each line item\n    * @property lineItemCount\n    * @type {Number}\n  */\n  get lineItemCount() {\n    return this.lineItems.reduce(function (total, item) {\n      return total + item.quantity;\n    }, 0);\n  },\n\n  /**\n    * Get current subtotal price for all line items\n    * @property subtotal\n    * @type {String}\n  */\n  get subtotal() {\n    var subtotal = this.lineItems.reduce(function (runningTotal, lineItem) {\n      return runningTotal + parseFloat(lineItem.line_price);\n    }, 0);\n\n    return subtotal.toFixed(2);\n  },\n\n  /**\n    * Get checkout URL for current cart\n    * @property checkoutUrl\n    * @type {String}\n  */\n  get checkoutUrl() {\n    var config = this.config;\n    var baseUrl = 'https://' + config.domain + '/cart';\n\n    var variantPath = this.lineItems.map(function (item) {\n      return item.variant_id + ':' + item.quantity;\n    });\n\n    var query = 'api_key=' + config.apiKey;\n\n    if (typeof _global2.default.ga === 'function') {\n      var linkerParam = void 0;\n\n      _global2.default.ga(function (tracker) {\n        linkerParam = tracker.get('linkerParam');\n      });\n\n      if (linkerParam) {\n        query += '&' + linkerParam;\n      }\n    }\n\n    return baseUrl + '/' + variantPath + '?' + query;\n  },\n\n  /**\n    * Add items to cart. Updates cart's `lineItems`\n    * ```javascript\n    * cart.addVariants({variant: variantObject, quantity: 1}).then(cart => {\n    *   // do things with the updated cart.\n    * });\n    * ```\n    * @method addVariants\n    * @param {Object} item - One or more variants\n    * @param {Object} item.variant - variant object\n    * @param {Number} item.quantity - quantity\n    * @param {Object} [nextItem...] - further lineItems may be passed\n    * @public\n    * @return {Promise|CartModel} - updated cart instance.\n  */\n  addVariants: function addVariants() {\n    var newLineItems = [].concat(Array.prototype.slice.call(arguments)).map(function (item) {\n      var lineItem = {\n        image: item.variant.image,\n        variant_id: item.variant.id,\n        product_id: item.variant.productId,\n        title: item.variant.productTitle,\n        quantity: parseInt(item.quantity, 10),\n        properties: item.properties || {},\n        variant_title: item.variant.title,\n        price: item.variant.price,\n        compare_at_price: item.variant.compareAtPrice,\n        grams: item.variant.grams\n      };\n\n      (0, _setGuidFor2.default)(lineItem);\n\n      return lineItem;\n    });\n    var existingLineItems = this.attrs.line_items;\n\n    existingLineItems.push.apply(existingLineItems, _toConsumableArray(newLineItems));\n\n    var dedupedLineItems = existingLineItems.reduce(function (itemAcc, item) {\n      var matchingItem = itemAcc.filter(function (existingItem) {\n        return existingItem.variant_id === item.variant_id && objectsEqual(existingItem.properties, item.properties);\n      })[0];\n\n      if (matchingItem) {\n        matchingItem.quantity = matchingItem.quantity + item.quantity;\n      } else {\n        itemAcc.push(item);\n      }\n\n      return itemAcc;\n    }, []);\n\n    // Users may pass negative numbers and remove items. This ensures there's no\n    // item with a quantity of zero or less.\n    this.attrs.line_items = dedupedLineItems.reduce(function (itemAcc, item) {\n      if (item.quantity >= 1) {\n        itemAcc.push(item);\n      }\n\n      return itemAcc;\n    }, []);\n\n    return this.updateModel();\n  },\n\n\n  /**\n    * Update line item quantity\n    * ```javascript\n    * cart.updateLineItem(123, 2).then(cart => {\n    *   // do things with the updated cart.\n    * });\n    * ```\n    * @method updateLineItem\n    * @param {Number} id - line item ID\n    * @param {Number} quantity - new quantity for line item\n    * @throws {Error} if line item with ID is not in cart.\n    * @public\n    * @return {Promise|CartModel} - updated cart instance\n  */\n  updateLineItem: function updateLineItem(id, quantity) {\n    if (quantity < 1) {\n      return this.removeLineItem(id);\n    }\n\n    var lineItem = this.lineItems.filter(function (item) {\n      return item.id === id;\n    })[0];\n\n    if (lineItem) {\n      lineItem.quantity = quantity;\n\n      return this.updateModel();\n    }\n\n    return new Promise(function (resolve, reject) {\n      reject(new Error('line item with id: ' + id + ' not found in cart#' + this.id));\n    });\n  },\n\n\n  /**\n    * Remove line item from cart\n    * @method removeLineItem\n    * @param {Number} id - line item ID\n    * @throws {Error} if line item with ID is not in cart.\n    * @public\n    * @return {Promise|CartModel} - updated cart instance\n  */\n  removeLineItem: function removeLineItem(id) {\n    var oldLength = this.lineItems.length;\n    var newLineItems = this.lineItems.filter(function (item) {\n      return item.id !== id;\n    });\n    var newLength = newLineItems.length;\n\n    if (newLength < oldLength) {\n      this.attrs.line_items = newLineItems.map(function (item) {\n        return item.attrs;\n      });\n\n      return this.updateModel();\n    }\n\n    return new Promise(function (resolve, reject) {\n      reject(new Error('line item with id: ' + id + ' not found in cart#' + this.id));\n    });\n  },\n\n\n  /**\n    * Remove all line items from cart\n    * @method clearLineItems\n    * @public\n    * @return {Promise|CartModel} - updated cart instance\n  */\n  clearLineItems: function clearLineItems() {\n    this.attrs.line_items = [];\n\n    return this.updateModel();\n  },\n\n\n  /**\n    * force update of cart model on server\n    * @method updateModel\n    * @public\n    * @return {Promise|CartModel} - updated cart instance\n  */\n  updateModel: function updateModel() {\n    var _this = this;\n\n    return this.shopClient.update('carts', this).then(function (updateCart) {\n      (0, _assign2.default)(_this.attrs, updateCart.attrs);\n\n      return _this;\n    });\n  }\n});\n\nexports.default = CartModel;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NO_IMAGE_URI = undefined;\n\nvar _baseModel = require('./base-model');\n\nvar _baseModel2 = _interopRequireDefault(_baseModel);\n\nvar _productOptionModel = require('./product-option-model');\n\nvar _productOptionModel2 = _interopRequireDefault(_productOptionModel);\n\nvar _productVariantModel = require('./product-variant-model');\n\nvar _productVariantModel2 = _interopRequireDefault(_productVariantModel);\n\nvar _uniq = require('../metal/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NO_IMAGE_URI = 'https://widgets.shopifyapps.com/assets/no-image.svg';\n\n/**\n   * Class for products returned by fetch('product')\n   * @class ProductModel\n   * @constructor\n */\nvar ProductModel = _baseModel2.default.extend({\n  constructor: function constructor() {\n    this.super.apply(this, arguments);\n  },\n\n\n  /**\n    * Product unique ID\n    * @property id\n    * @type {String}\n  */\n  get id() {\n    return this.attrs.product_id;\n  },\n\n  /**\n    * Product title\n    * @property title\n    * @type {String}\n  */\n  get title() {\n    return this.attrs.title;\n  },\n\n  /**\n    * Product description. The exposes the `body_html` property on the listings API\n    * @property description\n    * @type {String}\n  */\n  get description() {\n    return this.attrs.body_html;\n  },\n\n  /**\n    * All images associated with product.\n    * @property images\n    * @type {Array} array of image objects.\n  */\n  get images() {\n    return this.attrs.images;\n  },\n\n  get memoized() {\n    this._memoized = this._memoized || {};\n\n    return this._memoized;\n  },\n\n  /**\n     *  Get array of options with nested values. Useful for creating UI for selecting options.\n     *\n     * ```javascript\n     *  var elements = product.options.map(function(option) {\n     *    return '<select name=\"' + option.name + '\">' + option.values.map(function(value) {\n     *      return '<option value=\"' + value + '\">' + value + '</option>';\n     *    }) + '</select>';\n     *  });\n     * ```\n     *\n     * @attribute options\n     * @type {Array|Option}\n   */\n  get options() {\n    if (this.memoized.options) {\n      return this.memoized.options;\n    }\n\n    var baseOptions = this.attrs.options;\n    var variants = this.variants;\n\n    this.memoized.options = baseOptions.map(function (option) {\n      var name = option.name;\n\n      var dupedValues = variants.reduce(function (valueList, variant) {\n        var optionValueForOption = variant.optionValues.filter(function (optionValue) {\n          return optionValue.name === option.name;\n        })[0];\n\n        valueList.push(optionValueForOption.value);\n\n        return valueList;\n      }, []);\n\n      var values = (0, _uniq2.default)(dupedValues);\n\n      return new _productOptionModel2.default({ name: name, values: values });\n    });\n\n    return this.memoized.options;\n  },\n\n  /**\n    * All variants of a product.\n    * @property variants\n    * @type {Array|ProductVariantModel} array of ProductVariantModel instances.\n  */\n  get variants() {\n    var _this = this;\n\n    return this.attrs.variants.map(function (variant) {\n      return new _productVariantModel2.default({ variant: variant, product: _this }, { config: _this.config });\n    });\n  },\n\n  /**\n    * Retrieve currently selected option values.\n    * @attribute selections\n    * @type {Option}\n  */\n  get selections() {\n    return this.options.map(function (option) {\n      return option.selected;\n    });\n  },\n\n  /**\n    * Retrieve variant for currently selected options\n    * @attribute selectedVariant\n    * @type {Object}\n  */\n  get selectedVariant() {\n    var variantTitle = this.selections.join(' / ');\n\n    return this.variants.filter(function (variant) {\n      return variant.title === variantTitle;\n    })[0] || null;\n  },\n\n  /**\n    * Retrieve image for currently selected variantImage\n    * @attribute selectedVariantImage\n    * @type {Object}\n  */\n  get selectedVariantImage() {\n    if (!this.selectedVariant) {\n      return null;\n    }\n\n    return this.selectedVariant.image;\n  }\n});\n\nexports.default = ProductModel;\nexports.NO_IMAGE_URI = NO_IMAGE_URI;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _baseModel = require('./base-model');\n\nvar _baseModel2 = _interopRequireDefault(_baseModel);\n\nvar _includes = require('../metal/includes');\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n  * Class for product option\n  * @class Option\n  * @constructor\n*/\nvar ProductOptionModel = _baseModel2.default.extend({\n  constructor: function constructor() {\n    this.super.apply(this, arguments);\n\n    this.selected = this.values[0];\n  },\n\n\n  /**\n    * name of option (ex. \"Size\", \"Color\")\n    * @property name\n    * @type String\n  */\n  get name() {\n    return this.attrs.name;\n  },\n\n  /**\n    * possible values for selection\n    * @property values\n    * @type Array\n  */\n  get values() {\n    return this.attrs.values;\n  },\n\n  /**\n    * get/set selected option value (ex. \"Large\"). Setting this will update the\n    * selected value on the model. Throws {Error} if setting selected to value that does not exist for option\n    * @property selected\n    * @type String\n  */\n  get selected() {\n    return this._selected;\n  },\n\n  set selected(value) {\n    if ((0, _includes2.default)(this.values, value)) {\n      this._selected = value;\n    } else {\n      throw new Error('Invalid option selection for ' + this.name + '.');\n    }\n\n    return value;\n  }\n});\n\nexports.default = ProductOptionModel;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _baseModel = require('./base-model');\n\nvar _baseModel2 = _interopRequireDefault(_baseModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n  * Model for product variant\n  * @class ProductVariantModel\n  * @constructor\n*/\nvar ProductVariantModel = _baseModel2.default.extend({\n  constructor: function constructor() {\n    this.super.apply(this, arguments);\n  },\n\n\n  /**\n    * Variant unique ID\n    * @property id\n    * @type {String}\n  */\n  get id() {\n    return this.attrs.variant.id;\n  },\n\n  /**\n    * ID of product variant belongs to\n    * @property productId\n    * @type {String}\n  */\n  get productId() {\n    return this.attrs.product.id;\n  },\n\n  /**\n    * Title of variant\n    * @property title\n    * @type {String}\n  */\n  get title() {\n    return this.attrs.variant.title;\n  },\n\n  /**\n    * Title of product variant belongs to\n    * @property productTitle\n    * @type {String}\n  */\n  get productTitle() {\n    return this.attrs.product.title;\n  },\n\n  /**\n    * <a href=\"https://docs.shopify.com/manual/products/promoting-marketing/sales\">\n    * Compare at</a> price for variant formatted as currency.\n    * @property compareAtPrice\n    * @type {String}\n  */\n  get compareAtPrice() {\n    return this.attrs.variant.compare_at_price;\n  },\n\n  /**\n    * Price of variant, formatted as currency\n    * @property price\n    * @type {String}\n  */\n  get price() {\n    return this.attrs.variant.price;\n  },\n\n  /**\n    * Variant weight in grams\n    * @property grams\n    * @type {Number}\n  */\n  get grams() {\n    return this.attrs.variant.grams;\n  },\n\n  /**\n    * Option values associated with this variant, ex {name: \"color\", value: \"Blue\"}\n    * @property optionValues\n    * @type {Array|Object}\n  */\n  get optionValues() {\n    return this.attrs.variant.option_values;\n  },\n\n  /**\n    * Variant in stock (always true if inventory tracking is disabled)\n    * @property available\n    * @type {Boolean}\n  */\n  get available() {\n    return this.attrs.variant.available;\n  },\n\n  /**\n    * Image for variant\n    * @property image\n    * @type {Object}\n  */\n  get image() {\n    var id = this.id;\n    var images = this.attrs.product.images;\n\n    var primaryImage = images[0];\n    var variantImage = images.filter(function (image) {\n      return image.variant_ids.indexOf(id) !== -1;\n    })[0];\n\n    return variantImage || primaryImage;\n  },\n\n  /**\n    * Image variants available for a variant, ex [ {\"name\":\"pico\",\"dimension\":\"16x16\",\"src\":\"https://cdn.shopify.com/image-two_pico.jpg\"} ]\n    * See <a href=\"https://help.shopify.com/themes/liquid/filters/url-filters#size-parameters\"> for list of available variants.</a>\n    * @property imageVariant\n    * @type {Array}\n  */\n  get imageVariants() {\n    var image = this.image;\n\n    if (!image) {\n      return [];\n    }\n\n    var src = this.image.src;\n    var extensionIndex = src.lastIndexOf('.');\n    var pathAndBasename = src.slice(0, extensionIndex);\n    var extension = src.slice(extensionIndex);\n    var variants = [{ name: 'pico', dimension: '16x16' }, { name: 'icon', dimension: '32x32' }, { name: 'thumb', dimension: '50x50' }, { name: 'small', dimension: '100x100' }, { name: 'compact', dimension: '160x160' }, { name: 'medium', dimension: '240x240' }, { name: 'large', dimension: '480x480' }, { name: 'grande', dimension: '600x600' }, { name: '1024x1024', dimension: '1024x1024' }, { name: '2048x2048', dimension: '2048x2048' }];\n\n    variants.forEach(function (variant) {\n      variant.src = pathAndBasename + '_' + variant.name + extension;\n    });\n\n    return variants;\n  },\n\n  /**\n    * Checkout URL for purchasing variant with quantity.\n    * @method checkoutUrl\n    * @param {Number} [quantity = 1] quantity of variant\n    * @public\n    * @return {String} Checkout URL\n  */\n  checkoutUrl: function checkoutUrl() {\n    var quantity = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n    var config = this.config;\n    var baseUrl = 'https://' + config.domain + '/cart';\n\n    var variantPath = this.id + ':' + parseInt(quantity, 10);\n\n    var query = 'api_key=' + config.apiKey;\n\n    return baseUrl + '/' + variantPath + '?' + query;\n  }\n});\n\nexports.default = ProductVariantModel;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _baseModel = require('./base-model');\n\nvar _baseModel2 = _interopRequireDefault(_baseModel);\n\nvar _setGuidFor = require('../metal/set-guid-for');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ReferenceModel = _baseModel2.default.extend({\n\n  /**\n    * Class for reference model\n    * @class ReferenceModel\n    * @constructor\n  */\n  constructor: function constructor(attrs) {\n    if (Object.keys(attrs).indexOf('referenceId') < 0) {\n      throw new Error('Missing key referenceId of reference. References to null are not allowed');\n    }\n\n    this.super.apply(this, arguments);\n  },\n\n\n  /**\n    * get the ID for current reference (not what it refers to, but its own unique identifier)\n    * @property id\n    * @type {String}\n  */\n  get id() {\n    return this.attrs[_setGuidFor.GUID_KEY];\n  },\n\n  get referenceId() {\n    return this.attrs.referenceId;\n  },\n  set referenceId(value) {\n    this.attrs.referenceId = value;\n\n    return value;\n  }\n\n});\n\nexports.default = ReferenceModel;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _coreObject = require('../metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _assign = require('../metal/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _cartModel = require('../models/cart-model');\n\nvar _cartModel2 = _interopRequireDefault(_cartModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CartSerializer = _coreObject2.default.extend({\n  constructor: function constructor(config) {\n    this.config = config;\n  },\n  rootKeyForType: function rootKeyForType(type) {\n    return type.slice(0, -1);\n  },\n  modelForType: function modelForType() /* type */{\n    return _cartModel2.default;\n  },\n  deserializeSingle: function deserializeSingle(type) {\n    var singlePayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    var modelAttrs = singlePayload[this.rootKeyForType(type)];\n    var model = this.modelFromAttrs(type, modelAttrs, metaAttrs);\n\n    return model;\n  },\n  modelFromAttrs: function modelFromAttrs(type, attrs, metaAttrs) {\n    var Model = this.modelForType(type);\n\n    metaAttrs.config = this.config;\n\n    return new Model(attrs, metaAttrs);\n  },\n  serialize: function serialize(type, model) {\n    var root = this.rootKeyForType(type);\n    var payload = {};\n    var attrs = (0, _assign2.default)({}, model.attrs);\n\n    payload[root] = attrs;\n\n    delete attrs.attributes;\n\n    Object.keys(attrs).forEach(function (key) {\n      var value = attrs[key];\n\n      if (value === null || typeof value === 'string' && value.length === 0) {\n        delete attrs[key];\n      }\n    });\n\n    return payload;\n  }\n});\n\nexports.default = CartSerializer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _coreObject = require('../metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _baseModel = require('../models/base-model');\n\nvar _baseModel2 = _interopRequireDefault(_baseModel);\n\nvar _productModel = require('../models/product-model');\n\nvar _productModel2 = _interopRequireDefault(_productModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ListingsSerializer = _coreObject2.default.extend({\n  constructor: function constructor(config) {\n    this.config = config;\n  },\n  rootKeyForType: function rootKeyForType(type) {\n    return type.slice(0, -1) + '_listing';\n  },\n\n\n  models: {\n    collections: _baseModel2.default,\n    products: _productModel2.default\n  },\n\n  modelForType: function modelForType(type) {\n    return this.models[type];\n  },\n  deserializeSingle: function deserializeSingle(type) {\n    var singlePayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    var modelAttrs = singlePayload[this.rootKeyForType(type)];\n    var model = this.modelFromAttrs(type, modelAttrs, metaAttrs);\n\n    return model;\n  },\n  deserializeMultiple: function deserializeMultiple(type) {\n    var _this = this;\n\n    var collectionPayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    var models = collectionPayload[this.rootKeyForType(type) + 's'];\n\n    return models.map(function (attrs) {\n      var model = _this.modelFromAttrs(type, attrs, metaAttrs);\n\n      return model;\n    });\n  },\n  modelFromAttrs: function modelFromAttrs(type, attrs, metaAttrs) {\n    var Model = this.modelForType(type);\n\n    metaAttrs.config = this.config;\n\n    return new Model(attrs, metaAttrs);\n  }\n});\n\nexports.default = ListingsSerializer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _coreObject = require('../metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _assign = require('../metal/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _referenceModel = require('../models/reference-model');\n\nvar _referenceModel2 = _interopRequireDefault(_referenceModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ReferenceSerializer = _coreObject2.default.extend({\n  constructor: function constructor(config) {\n    this.config = config;\n  },\n  modelForType: function modelForType() /* type */{\n    return _referenceModel2.default;\n  },\n  deserializeSingle: function deserializeSingle(type) {\n    var singlePayload = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n    var metaAttrs = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n    var Model = this.modelForType(type);\n\n    return new Model(singlePayload, metaAttrs);\n  },\n  serialize: function serialize(type, model) {\n    var attrs = (0, _assign2.default)({}, model.attrs);\n\n    return attrs;\n  }\n});\n\nexports.default = ReferenceSerializer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _listingsSerializer = require('./serializers/listings-serializer');\n\nvar _listingsSerializer2 = _interopRequireDefault(_listingsSerializer);\n\nvar _listingsAdapter = require('./adapters/listings-adapter');\n\nvar _listingsAdapter2 = _interopRequireDefault(_listingsAdapter);\n\nvar _cartSerializer = require('./serializers/cart-serializer');\n\nvar _cartSerializer2 = _interopRequireDefault(_cartSerializer);\n\nvar _referenceSerializer = require('./serializers/reference-serializer');\n\nvar _referenceSerializer2 = _interopRequireDefault(_referenceSerializer);\n\nvar _localStorageAdapter = require('./adapters/local-storage-adapter');\n\nvar _localStorageAdapter2 = _interopRequireDefault(_localStorageAdapter);\n\nvar _coreObject = require('./metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nvar _assign = require('./metal/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _setGuidFor = require('./metal/set-guid-for');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module shopify-buy\n * @submodule shop-client\n */\n\nfunction fetchFactory(fetchType, type) {\n  var func = void 0;\n\n  switch (fetchType) {\n    case 'all':\n      func = function func() {\n        return this.fetchAll(type);\n      };\n      break;\n    case 'one':\n      func = function func() {\n        return this.fetch.apply(this, [type].concat(Array.prototype.slice.call(arguments)));\n      };\n      break;\n    case 'query':\n      func = function func() {\n        return this.fetchQuery.apply(this, [type].concat(Array.prototype.slice.call(arguments)));\n      };\n      break;\n  }\n\n  return func;\n}\n\nvar ShopClient = _coreObject2.default.extend({\n  /**\n   * @class ShopClient\n   * @constructor\n   * @param {Config} [config] Config data to be used throughout all API\n   * interaction\n   */\n  constructor: function constructor(config) {\n    this.config = config;\n\n    this.serializers = {\n      products: _listingsSerializer2.default,\n      collections: _listingsSerializer2.default,\n      carts: _cartSerializer2.default,\n      references: _referenceSerializer2.default\n    };\n\n    this.adapters = {\n      products: _listingsAdapter2.default,\n      collections: _listingsAdapter2.default,\n      carts: _localStorageAdapter2.default,\n      references: _localStorageAdapter2.default\n    };\n  },\n\n\n  config: null,\n\n  /**\n   * @attribute\n   * @default {\n   *  products: ListingsAdapter,\n   *  collections: ListingsAdapter,\n   *  carts: CartAdapter\n   * }\n   * @type Object\n   * @protected\n   */\n  // Prevent leaky state\n  get serializers() {\n    return (0, _assign2.default)({}, this.shadowedSerializers);\n  },\n\n  set serializers(values) {\n    this.shadowedSerializers = (0, _assign2.default)({}, values);\n  },\n\n  get adapters() {\n    return (0, _assign2.default)({}, this.shadowedAdapters);\n  },\n\n  set adapters(values) {\n    this.shadowedAdapters = (0, _assign2.default)({}, values);\n  },\n\n  /**\n   * Fetch all of a `type`, returning a promise.\n   *\n   * ```javascript\n   * client.fetchAll('products').then(products => {\n   *   // do things with products\n   * });\n   * ```\n   *\n   * @method fetchAll\n   * @private\n   * @param {String} type The pluralized name of the type, in lower case.\n   * @return {Promise|Array} a promise resolving with an array of `type`\n   */\n  fetchAll: function fetchAll(type) {\n    var _this = this;\n\n    var adapter = new this.adapters[type](this.config);\n\n    return adapter.fetchMultiple(type).then(function (payload) {\n      return _this.deserialize(type, payload, adapter, null, { multiple: true });\n    });\n  },\n\n\n  /**\n   * Fetch one of a `type`, returning a promise.\n   *\n   * ```javascript\n   * client.fetch('products', 123).then(product => {\n   *   // do things with the product\n   * });\n   * ```\n   *\n   * @method fetch\n   * @private\n   * @param {String} type The pluralized name of the type, in lower case.\n   * @param {String|Number} id a unique identifier\n   * @return {Promise|BaseModel} a promise resolving with a single instance of\n   * `type` expressed as a `BaseModel`.\n   */\n  fetch: function fetch(type, id) {\n    var _this2 = this;\n\n    var adapter = new this.adapters[type](this.config);\n\n    return adapter.fetchSingle(type, id).then(function (payload) {\n      return _this2.deserialize(type, payload, adapter, null, { single: true });\n    });\n  },\n\n\n  /**\n   * Fetch many of a `type`, that match `query`\n   *\n   * ```javascript\n   * client.fetchQuery('products', { collection_id: 456 }).then(products => {\n   *   // do things with the products\n   * });\n   * ```\n   *\n   * @method fetchQuery\n   * @private\n   * @param {String} type The pluralized name of the type, in lower case.\n   * @param {Object} query a query sent to the api server.\n   * @return {Promise|Array} a promise resolving with an array of `type`.\n   */\n  fetchQuery: function fetchQuery(type, query) {\n    var _this3 = this;\n\n    var adapter = new this.adapters[type](this.config);\n\n    return adapter.fetchMultiple(type, query).then(function (payload) {\n      return _this3.deserialize(type, payload, adapter, null, { multiple: true });\n    });\n  },\n\n\n  /**\n   * Create an instance of `type`, optionally including `modelAttrs`.\n   *\n   * ```javascript\n   * client.create('carts', { line_items: [ ... ] }).then(cart => {\n   *   // do things with the cart.\n   * });\n   * ```\n   *\n   * @method create\n   * @private\n   * @param {String} type The pluralized name of the type, in lower case.\n   * @param {Object} [modelAttrs={}] attributes representing the internal state\n   * of the model to be persisted.\n   * @return {Promise|CartModel} a promise resolving with a single instance of\n   * `type`\n   */\n  create: function create(type) {\n    var _this4 = this;\n\n    var modelAttrs = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var adapter = new this.adapters[type](this.config);\n    var serializer = new this.serializers[type](this.config);\n    var Model = serializer.modelForType(type);\n    var model = new Model(modelAttrs, { shopClient: this });\n    var attrs = serializer.serialize(type, model);\n\n    return adapter.create(type, attrs).then(function (payload) {\n      return _this4.deserialize(type, payload, adapter, serializer, { single: true });\n    });\n  },\n\n\n  /**\n   * Create an instance of `type`, optionally including `attrs`.\n   *\n   * ```javascript\n   * client.create('carts', { line_items: [ ... ] }).then(cart => {\n   *   // do things with the cart.\n   * });\n   * ```\n   *\n   * @method update\n   * @private\n   * @param {String} type The pluralized name of the type, in lower case.\n   * @param {BaseModel} updatedModel The model that represents new state to\n   * to persist.\n   * @return {Promise|CartModel} a promise resolving with a single instance of\n   * `type`\n   */\n  update: function update(type, updatedModel) {\n    var _this5 = this;\n\n    var adapter = updatedModel.adapter;\n    var serializer = updatedModel.serializer;\n    var serializedModel = serializer.serialize(type, updatedModel);\n    var id = updatedModel.attrs[adapter.idKeyForType(type)];\n\n    return adapter.update(type, id, serializedModel).then(function (payload) {\n      return _this5.deserialize(type, payload, adapter, serializer, { single: true });\n    });\n  },\n\n\n  /**\n   * Proxy to serializer's deserialize.\n   *\n   * @method deserialize\n   * @private\n   * @param {String} type The pluralized name of the type, in lower case.\n   * @param {Object} payload The raw payload returned by the adapter.\n   * @param {BaseAdapter} adapter The adapter that yielded the payload.\n   * @param {BaseSerializer} existingSerializer The serializer to attach. If\n   * none is passed, then `this.deserialize` will create one for the type.\n   * @param {Object} opts Options that determine which deserialization method to\n   * use.\n   * @param {Boolean} opts.multiple true when the payload represents multiple\n   * models\n   * @param {Boolean} opts.single true when the payload represents one model.\n   * @return {BaseModel} an instance of `type` reified into a model.\n   */\n  deserialize: function deserialize(type, payload, adapter, existingSerializer) {\n    var opts = arguments.length <= 4 || arguments[4] === undefined ? {} : arguments[4];\n\n    var serializer = existingSerializer || new this.serializers[type](this.config);\n    var meta = { shopClient: this, adapter: adapter, serializer: serializer, type: type };\n    var serializedPayload = void 0;\n\n    if (opts.multiple) {\n      serializedPayload = serializer.deserializeMultiple(type, payload, meta);\n    } else {\n      serializedPayload = serializer.deserializeSingle(type, payload, meta);\n    }\n\n    return serializedPayload;\n  },\n\n\n  /**\n    * Creates a {{#crossLink \"CartModel\"}}CartModel{{/crossLink}} instance, optionally including `attrs`.\n    *\n    * ```javascript\n    * client.createCart().then(cart => {\n    *   // do something with cart\n    * });\n    * ```\n    *\n    * @param {Object}[attrs={}] attributes representing the internal state of the cart to be persisted to localStorage.\n    * @method createCart\n    * @public\n    * @return {Promise|CartModel} - new cart instance.\n  */\n  createCart: function createCart() {\n    var userAttrs = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var baseAttrs = {\n      line_items: []\n    };\n    var attrs = {};\n\n    (0, _assign2.default)(attrs, baseAttrs);\n    (0, _assign2.default)(attrs, userAttrs);\n\n    return this.create('carts', attrs);\n  },\n\n\n  /**\n    * Updates an existing {{#crossLink \"CartModel\"}}CartModel{{/crossLink}} instance and persists it to localStorage.\n    *\n    * ```javascript\n    * client.createCart().then(cart => {\n    *   cart.lineItems = [\n    *     // ...\n    *   ];\n    *   client.updateCart(cart);\n    * });\n    * ```\n    *\n    * @param {Object}[attrs={}] attributes representing the internal state of the cart to be persisted to localStorage.\n    * @method updateCart\n    * @public\n    * @return {Promise|CartModel} - updated cart instance.\n  */\n  updateCart: function updateCart(updatedCart) {\n    return this.update('carts', updatedCart);\n  },\n\n\n  /**\n   * Retrieve a previously created cart by its key.\n   *\n   * ```javascript\n   * client.fetchCart('shopify-buy.1459804699118.2').then(cart => {\n   *   console.log(cart); // The retrieved cart\n   * });\n   *\n   * @method fetchCart\n   * @public\n   * @param {String} id The cart's unique identifier\n   * @return {Promise|CartModel} The cart model.\n   *\n   */\n  fetchCart: fetchFactory('one', 'carts'),\n\n  /**\n   * Convenience wrapper for {{#crossLink \"ShopClient/fetchAll:method\"}}\n   * {{/crossLink}}. Equivalent to:\n   *\n   * ```javascript\n   * client.fetchAll('products');\n   * ```\n   *\n   * @method fetchAllProducts\n   * @private\n   * @return {Promise|Array} The product models.\n   */\n  fetchAllProducts: fetchFactory('all', 'products'),\n\n  /**\n   * Convenience wrapper for {{#crossLink \"ShopClient/fetchAll:method\"}}\n   * {{/crossLink}}. Equivalent to:\n   *\n   * ```javascript\n   * client.fetchAll('collections');\n   * ```\n   *\n   * @method fetchAllCollections\n   * @private\n   * @return {Promise|Array} The collection models.\n   */\n  fetchAllCollections: fetchFactory('all', 'collections'),\n\n  /**\n   * Fetch one product by its ID.\n   *\n   * ```javascript\n   * client.fetchProduct(123).then(product => {\n   *   console.log(product); // The product with an ID of 123\n   * });\n   * ```\n   *\n   * @method fetchProduct\n   * @public\n   * @param {String|Number} id a unique identifier\n   * @return {Promise|BaseModel} The product model with the specified ID.\n   */\n  fetchProduct: fetchFactory('one', 'products'),\n\n  /**\n   * Fetch one collection by its ID.\n   *\n   * ```javascript\n   * client.fetchCollection(123).then(collection => {\n   *   console.log(collection); // The collection with an ID of 123\n   * });\n   * ```\n   *\n   * @method fetchCollection\n   * @public\n   * @param {String|Number} id a unique identifier\n   * @return {Promise|BaseModel} The collection model with the specified ID.\n   */\n  fetchCollection: fetchFactory('one', 'collections'),\n\n  /**\n   * Fetches a list of products matching a specified query.\n   *\n   * ```javascript\n   * client.fetchQueryProducts({ collection_id: 123, tag: ['hats'] }).then(products => {\n   *   console.log(products); // An array of products in collection `123` having the tag `hats`\n   * });\n   * ```\n   * @method fetchQueryProducts\n   * @public\n   * @param {Object} query A query sent to the api server containing one or more of:\n   *   @param {String|Number} [query.collection_id] The ID of a collection to retrieve products from\n   *   @param {Array} [query.tag] A list of tags to filter the products by. Accepts up to 10 tags.\n   *   @param {Array} [query.product_ids] A list of product IDs to retrieve\n   *   @param {String|Number} [query.page=1] The page offset number of the current lookup (based on the `limit`)\n   *   @param {String|Number} [query.limit=50] The number of products to retrieve per page\n   *   @param {String} [query.handle] The handle of the product to look up\n   *   @param {String} [query.updated_at_min] Products updated since the supplied timestamp (format: 2008-12-31 03:00)\n   * @return {Promise|Array} The product models.\n   */\n  fetchQueryProducts: fetchFactory('query', 'products'),\n\n  /**\n   * Fetches a list of collections matching a specified query.\n   *\n   * ```javascript\n   * client.fetchQueryCollections({page: 2, limit: 20}).then(collections => {\n   *   console.log(collections); // An array of collection resources\n   * });\n   * ```\n   *\n   * @method fetchQueryCollections\n   * @public\n   * @param {Object} query a query sent to the api server.\n   *   @param {String|Number} [query.page=1] the page offset number of the current lookup (based on the `limit`)\n   *   @param {String|Number} [query.limit=50] the number of collections to retrieve per page\n   * @return {Promise|Array} The collection models.\n   */\n  fetchQueryCollections: fetchFactory('query', 'collections'),\n\n  /**\n   * This method looks up a reference in localStorage to the most recent cart.\n   * If one is not found, creates one. If the cart the reference points to\n   * doesn't exist, create one and store the new reference.\n   *\n   * ```javascript\n   * client.fetchRecentCart().then(cart => {\n   *  // do stuff with the cart\n   * });\n   * ```\n   *\n   * @method fetchRecentCart\n   * @public\n   * @return {Promise|CartModel} The cart.\n   */\n  fetchRecentCart: function fetchRecentCart() {\n    var _this6 = this;\n\n    return this.fetch('references', this.config.domain + '.recent-cart').then(function (reference) {\n      var cartId = reference.referenceId;\n\n      return _this6.fetchCart(cartId);\n    }).catch(function () {\n      return _this6.createCart().then(function (cart) {\n        var refAttrs = {\n          referenceId: cart.id\n        };\n\n        refAttrs[_setGuidFor.GUID_KEY] = _this6.config.domain + '.recent-cart';\n\n        _this6.create('references', refAttrs);\n\n        return cart;\n      });\n    });\n  }\n});\n\nexports.default = ShopClient;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _version = require('./version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nvar _shopClient = require('./shop-client');\n\nvar _shopClient2 = _interopRequireDefault(_shopClient);\n\nrequire('./isomorphic-fetch');\n\nrequire('./isomorphic-btoa');\n\nvar _productModel = require('./models/product-model');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @module shopify-buy\n * @submodule shopify\n */\n\n/**\n * This namespace contains all globally accessible classes\n * @class ShopifyBuy\n * @static\n */\nvar Shopify = {\n  ShopClient: _shopClient2.default,\n  Config: _config2.default,\n  version: _version2.default,\n  NO_IMAGE_URI: _productModel.NO_IMAGE_URI,\n\n  /**\n   * Create a ShopClient. This is the main entry point to the SDK.\n   *\n   * ```javascript\n   * const client = ShopifyBuy.buildClient({\n   *   apiKey: 'abc123',\n   *   appId: 123456,\n   *   myShopifyDomain: 'myshop',\n   *   domain: 'myshop.myshopify.com'\n   * });\n   * ```\n   *\n   * @method buildClient\n   * @for ShopifyBuy\n   * @static\n   * @public\n   * @param {Object} configAttrs An object of required config data.\n   * @param {String} configAttrs.apiKey Your api client's public token.\n   * @param {String} configAttrs.appId The app whose listings the client will be\n   * using. If you are just modifying a buy button, the buy-button's app id is\n   * 6. Otherwise, obtain the app id of the app you're modifying or extending.\n   * @param {String} configAttrs.domain You shop's full `myshopify.com` domain.\n   * @return {ShopClient} a client for the shop using your api credentials.\n   */\n  buildClient: function buildClient() {\n    var configAttrs = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var config = new this.Config(configAttrs);\n\n    return new this.ShopClient(config);\n  }\n};\n\nexports.default = Shopify;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _global = require('./metal/global');\n\nvar _global2 = _interopRequireDefault(_global);\n\nvar _coreObject = require('./metal/core-object');\n\nvar _coreObject2 = _interopRequireDefault(_coreObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Store = _coreObject2.default.extend({\n  constructor: function constructor() {\n    this.localStorageAvailable = this.storageAvailable('localStorage');\n    this.cache = {};\n  },\n  setItem: function setItem(key, value) {\n    if (this.localStorageAvailable) {\n      localStorage.setItem(key, JSON.stringify(value));\n    } else {\n      this.cache[key] = value;\n    }\n\n    return value;\n  },\n  getItem: function getItem(key) {\n    if (this.localStorageAvailable) {\n      var stringValue = localStorage.getItem(key);\n\n      try {\n        return JSON.parse(stringValue);\n      } catch (e) {\n        return null;\n      }\n    } else {\n      return this.cache[key] || null;\n    }\n  },\n  storageAvailable: function storageAvailable(type) {\n    try {\n      var storage = _global2.default[type];\n      var x = '__storage_test__';\n\n      storage.setItem(x, x);\n      storage.removeItem(x);\n\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n\nexports.default = Store;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar version = '{{versionString}}';\n\n/**\n * @module shopify-buy\n * @submodule version\n */\n\nexports.default = version;"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"shopify-buy.commonjs.js"}